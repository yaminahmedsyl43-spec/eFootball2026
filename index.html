<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yamin Ahmed Vlog</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;600;700&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{--purple:#8A2BE2;--neon:#00E5FF;--black:#0A0A0A;--green:#00FF6A;--pink:#FF0077;--white:#EAEAEA;--card:rgba(255,255,255,0.04);--border:rgba(0,229,255,0.2)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Exo 2',sans-serif;background:linear-gradient(135deg,#0A0A0A 0%,#0d001a 50%,#1B0033 100%);background-attachment:fixed;color:var(--white);min-height:100vh;overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;background-image:linear-gradient(rgba(0,229,255,0.03) 1px,transparent 1px),linear-gradient(90deg,rgba(0,229,255,0.03) 1px,transparent 1px);background-size:60px 60px;pointer-events:none;z-index:0}

/* SETUP BANNER */
.setup-banner{background:rgba(255,140,0,0.1);border-bottom:1px solid rgba(255,160,0,0.4);padding:.7rem 1.5rem;text-align:center;font-family:'Rajdhani',sans-serif;font-size:.82rem;color:#ffb347;position:relative;z-index:2}
.setup-banner a{color:var(--neon)}
.setup-banner.hidden{display:none}

/* SPINNER */
.spin-wrap{display:none;position:fixed;inset:0;background:rgba(10,10,10,.75);z-index:9100;align-items:center;justify-content:center;flex-direction:column;gap:1rem}
.spin-wrap.on{display:flex}
.spin{width:48px;height:48px;border:3px solid rgba(0,229,255,.2);border-top-color:var(--neon);border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.spin-txt{font-family:'Rajdhani',sans-serif;font-size:.85rem;color:var(--neon);letter-spacing:2px}

/* HEADER */
header{position:sticky;top:0;z-index:1000;background:rgba(10,10,10,.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem}
.nav-top{display:flex;align-items:center;justify-content:space-between;padding:.8rem 0}
.logo{display:flex;align-items:center;gap:.8rem;text-decoration:none}
.logo-svg{width:52px;height:52px;flex-shrink:0}
.logo-main{font-family:'Orbitron',sans-serif;font-size:1.1rem;font-weight:900;color:var(--neon);letter-spacing:1px;text-shadow:0 0 20px rgba(0,229,255,.5);line-height:1.1}
.logo-sub{font-family:'Rajdhani',sans-serif;font-size:.65rem;font-weight:600;color:var(--green);letter-spacing:3px;text-transform:uppercase}
.nav-actions{display:flex;align-items:center;gap:1rem}
.btn-yt{display:flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,var(--pink),var(--purple));color:#fff;padding:.5rem 1.2rem;border-radius:30px;text-decoration:none;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.85rem;box-shadow:0 0 20px rgba(255,0,119,.4);transition:all .3s}
.btn-yt:hover{transform:translateY(-2px);box-shadow:0 0 35px rgba(255,0,119,.7)}
.btn-admin{background:transparent;border:1px solid var(--green);color:var(--green);padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.8rem;letter-spacing:1px;transition:all .3s}
.btn-admin:hover{background:var(--green);color:#000}
.nav-scroll{overflow-x:auto;scrollbar-width:none;padding:.5rem 0;border-top:1px solid rgba(255,255,255,.05)}
.nav-scroll::-webkit-scrollbar{display:none}
.nav-links{display:flex;gap:.3rem;width:max-content}
.nav-links a{text-decoration:none;color:rgba(234,234,234,.7);font-family:'Rajdhani',sans-serif;font-weight:600;font-size:.78rem;letter-spacing:.5px;padding:.3rem .8rem;border-radius:4px;white-space:nowrap;transition:all .2s;text-transform:uppercase}
.nav-links a:hover{color:var(--neon);background:rgba(0,229,255,.08)}

/* HERO */
.hero{position:relative;z-index:1;min-height:80vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:4rem 2rem;overflow:hidden}
.hero-glow{position:absolute;width:700px;height:700px;background:radial-gradient(circle,rgba(138,43,226,.25) 0%,transparent 70%);left:50%;top:50%;transform:translate(-50%,-50%);pointer-events:none}
.hero-glow2{position:absolute;width:400px;height:400px;background:radial-gradient(circle,rgba(0,229,255,.15) 0%,transparent 70%);right:10%;top:20%;pointer-events:none;animation:pulse 4s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:.5;transform:scale(1)}50%{opacity:1;transform:scale(1.1)}}
.hero-content{position:relative;z-index:2}
.hero-badge{display:inline-block;background:rgba(0,229,255,.1);border:1px solid var(--neon);color:var(--neon);padding:.3rem 1rem;border-radius:30px;font-family:'Rajdhani',sans-serif;font-size:.75rem;font-weight:700;letter-spacing:3px;text-transform:uppercase;margin-bottom:1.5rem;animation:gborder 2s ease-in-out infinite}
@keyframes gborder{0%,100%{box-shadow:0 0 10px rgba(0,229,255,.3)}50%{box-shadow:0 0 25px rgba(0,229,255,.7)}}
.hero h1{font-family:'Orbitron',sans-serif;font-size:clamp(2rem,5vw,4rem);font-weight:900;color:var(--neon);text-shadow:0 0 40px rgba(0,229,255,.4);line-height:1.1;margin-bottom:1rem}
.hero h1 span{color:var(--green);text-shadow:0 0 30px rgba(0,255,106,.4)}
.hero-sub{color:rgba(234,234,234,.8);margin-bottom:2.5rem;font-family:'Rajdhani',sans-serif;font-size:1.2rem;letter-spacing:1px}
.btn-sub{display:inline-flex;align-items:center;gap:.6rem;background:linear-gradient(135deg,var(--purple),var(--pink));color:#fff;padding:.9rem 2.5rem;border-radius:50px;text-decoration:none;font-family:'Orbitron',sans-serif;font-weight:700;font-size:.9rem;box-shadow:0 0 40px rgba(138,43,226,.5);transition:all .3s;letter-spacing:1px}
.btn-sub:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 0 60px rgba(255,0,119,.7)}
.hero-stats{display:flex;gap:3rem;justify-content:center;margin-top:3rem}
.stat{text-align:center}
.stat-num{font-family:'Orbitron',sans-serif;font-size:1.8rem;font-weight:900;color:var(--green);text-shadow:0 0 20px rgba(0,255,106,.5)}
.stat-label{font-family:'Rajdhani',sans-serif;font-size:.7rem;color:rgba(234,234,234,.5);letter-spacing:2px;text-transform:uppercase}

/* SECTIONS */
section{position:relative;z-index:1;padding:4rem 2rem;max-width:1400px;margin:0 auto}
.sec-label{font-family:'Rajdhani',sans-serif;font-size:.7rem;font-weight:700;color:var(--green);letter-spacing:4px;text-transform:uppercase;margin-bottom:.4rem}
.sec-title{font-family:'Orbitron',sans-serif;font-size:clamp(1.4rem,3vw,2rem);font-weight:700;color:var(--neon);margin-bottom:2.5rem}

/* CARDS */
.cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}
.post-card{background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;transition:all .3s;cursor:pointer;text-decoration:none;color:inherit;display:block}
.post-card:hover{transform:translateY(-5px);border-color:var(--neon);box-shadow:0 10px 40px rgba(0,229,255,.15)}
.card-img-wrap{position:relative;height:180px;overflow:hidden}
.card-img-wrap img{width:100%;height:100%;object-fit:cover}
.card-placeholder{height:180px;background:linear-gradient(135deg,#1a0030,#0a1530);display:flex;align-items:center;justify-content:center;font-size:3rem;position:relative}
.card-tag{position:absolute;top:10px;left:10px;background:var(--purple);color:#fff;font-family:'Rajdhani',sans-serif;font-size:.65rem;font-weight:700;letter-spacing:2px;padding:.2rem .6rem;border-radius:4px;text-transform:uppercase}
.card-body{padding:1.2rem}
.card-title{font-family:'Rajdhani',sans-serif;font-size:1rem;font-weight:700;color:var(--white);margin-bottom:.4rem;line-height:1.3}
.card-desc{font-size:.8rem;color:rgba(234,234,234,.6);line-height:1.5;margin-bottom:.8rem}
.card-meta{display:flex;justify-content:space-between;font-family:'Rajdhani',sans-serif;font-size:.7rem;color:var(--green);letter-spacing:1px}

/* CATS */
.cats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1rem}
.cat-btn{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:1.2rem 1rem;text-align:center;cursor:pointer;transition:all .3s;text-decoration:none;color:var(--white);display:block}
.cat-btn:hover{transform:translateY(-4px);border-color:var(--green);box-shadow:0 8px 30px rgba(0,255,106,.2)}
.cat-icon{font-size:1.8rem;display:block;margin-bottom:.5rem}
.cat-name{font-family:'Rajdhani',sans-serif;font-size:.8rem;font-weight:700;color:var(--neon);letter-spacing:.5px;text-transform:uppercase}

/* VIDEO */
.vid-wrap{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;display:grid;grid-template-columns:1fr 1fr}
@media(max-width:768px){.vid-wrap{grid-template-columns:1fr}}
.vid-embed{background:#000;min-height:280px}
.vid-embed iframe{width:100%;height:100%;min-height:280px;border:none;display:block}
.vid-info{padding:2rem;display:flex;flex-direction:column;justify-content:center}
.vid-tag{display:inline-block;background:var(--pink);color:#fff;font-family:'Rajdhani',sans-serif;font-size:.65rem;font-weight:700;letter-spacing:2px;padding:.2rem .6rem;border-radius:4px;margin-bottom:1rem;text-transform:uppercase}
.vid-title{font-family:'Orbitron',sans-serif;font-size:1.2rem;font-weight:700;color:var(--neon);margin-bottom:1rem;line-height:1.4}
.vid-desc{color:rgba(234,234,234,.7);font-size:.85rem;line-height:1.6}

/* SQUADS */
.squad-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.2rem}
.squad-card{background:var(--card);border:1px solid var(--border);border-radius:10px;overflow:hidden;transition:all .3s}
.squad-card:hover{border-color:var(--pink);box-shadow:0 8px 30px rgba(255,0,119,.15)}
.squad-img{width:100%;height:150px;overflow:hidden;background:linear-gradient(135deg,#200040,#001030);display:flex;align-items:center;justify-content:center;font-size:2.5rem}
.squad-img img{width:100%;height:100%;object-fit:cover}
.squad-body{padding:1rem}
.squad-title{font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.95rem;color:var(--white);margin-bottom:.5rem}
.upvote-row{display:flex;align-items:center;gap:.8rem}
.upvote-btn{background:transparent;border:1px solid var(--green);color:var(--green);padding:.3rem .8rem;border-radius:4px;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.75rem;transition:all .2s}
.upvote-btn:hover,.upvote-btn.active{background:var(--green);color:#000}
.upvote-ct{font-family:'Orbitron',sans-serif;font-size:.8rem;color:var(--green)}
.com-hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}
.btn-upload{background:linear-gradient(135deg,var(--purple),var(--neon));color:#fff;padding:.7rem 1.5rem;border-radius:8px;border:none;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.9rem;letter-spacing:1px;transition:all .3s}
.btn-upload:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(138,43,226,.5)}

/* FOOTER */
footer{position:relative;z-index:1;background:rgba(0,0,0,.6);border-top:1px solid var(--border);padding:3rem 2rem 2rem;margin-top:4rem}
.foot-grid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:3rem;max-width:1400px;margin:0 auto 2rem}
@media(max-width:768px){.foot-grid{grid-template-columns:1fr}}
.foot-about p{color:rgba(234,234,234,.6);font-size:.85rem;line-height:1.6;margin-top:.8rem}
.foot-title{font-family:'Orbitron',sans-serif;font-size:.8rem;color:var(--green);margin-bottom:1rem;letter-spacing:2px}
.foot-links{list-style:none;display:flex;flex-direction:column;gap:.5rem}
.foot-links a{color:rgba(234,234,234,.6);text-decoration:none;font-size:.82rem;transition:color .2s;font-family:'Rajdhani',sans-serif}
.foot-links a:hover{color:var(--neon)}
.foot-bottom{text-align:center;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.05);color:rgba(234,234,234,.4);font-size:.75rem;font-family:'Rajdhani',sans-serif;max-width:1400px;margin:0 auto}
.neon-sep{height:1px;background:linear-gradient(90deg,transparent,var(--purple),var(--neon),var(--green),transparent);margin:0 2rem;opacity:.4}

/* PASSWORD */
.pw-ov{position:fixed;inset:0;background:rgba(0,0,0,.92);z-index:6000;display:none;align-items:center;justify-content:center}
.pw-ov.open{display:flex}
.pw-box{background:#0d0020;border:1px solid var(--purple);border-radius:16px;padding:2.5rem 2rem;width:360px;max-width:92vw;text-align:center;box-shadow:0 0 60px rgba(138,43,226,.5);animation:pdrop .3s ease}
@keyframes pdrop{from{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}
.pw-icon{font-size:2.5rem;margin-bottom:.8rem}
.pw-title{font-family:'Orbitron',sans-serif;font-size:1rem;color:var(--neon);margin-bottom:.4rem;letter-spacing:2px}
.pw-sub{font-family:'Rajdhani',sans-serif;font-size:.8rem;color:rgba(234,234,234,.5);margin-bottom:1.5rem;letter-spacing:1px}
.pw-wrap{position:relative;margin-bottom:1.2rem}
.pw-inp{width:100%;background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:8px;padding:.75rem 2.8rem .75rem 1rem;color:var(--white);font-family:'Exo 2',sans-serif;font-size:1rem;outline:none;letter-spacing:3px;text-align:center;transition:border-color .2s}
.pw-inp:focus{border-color:var(--purple);box-shadow:0 0 15px rgba(138,43,226,.3)}
.pw-inp.err{border-color:var(--pink);animation:shake .3s}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px)}75%{transform:translateX(8px)}}
.pw-eye{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;color:rgba(234,234,234,.5);cursor:pointer;font-size:1rem}
.pw-err{font-family:'Rajdhani',sans-serif;font-size:.8rem;color:var(--pink);margin-bottom:1rem;letter-spacing:1px;min-height:1.2rem}
.pw-go{width:100%;background:linear-gradient(135deg,var(--purple),var(--pink));color:#fff;border:none;padding:.85rem;border-radius:8px;cursor:pointer;font-family:'Orbitron',sans-serif;font-weight:700;font-size:.85rem;letter-spacing:2px;transition:all .3s;margin-bottom:1rem}
.pw-go:hover{box-shadow:0 8px 25px rgba(138,43,226,.6);transform:translateY(-2px)}
.pw-cancel{background:none;border:none;color:rgba(234,234,234,.4);cursor:pointer;font-family:'Rajdhani',sans-serif;font-size:.8rem;letter-spacing:1px}
.pw-cancel:hover{color:var(--white)}
.pw-att{margin-top:.8rem;font-family:'Rajdhani',sans-serif;font-size:.72rem;color:rgba(234,234,234,.3);letter-spacing:1px}

/* ADMIN */
.adm-ov{position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:5000;display:none;overflow-y:auto}
.adm-ov.open{display:block}
.adm-panel{background:#0d0020;border:1px solid var(--purple);border-radius:16px;max-width:900px;margin:2rem auto;overflow:hidden;box-shadow:0 0 60px rgba(138,43,226,.4)}
.adm-hdr{background:linear-gradient(135deg,var(--purple),#3d00a8);padding:1.5rem 2rem;display:flex;justify-content:space-between;align-items:center}
.adm-hdr h2{font-family:'Orbitron',sans-serif;font-size:1.1rem;color:#fff;letter-spacing:2px}
.adm-close{background:rgba(255,255,255,.1);border:none;color:#fff;width:36px;height:36px;border-radius:8px;cursor:pointer;font-size:1.1rem;transition:background .2s}
.adm-close:hover{background:var(--pink)}
.adm-body{padding:2rem}
.adm-tabs{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:2rem;border-bottom:1px solid var(--border);padding-bottom:1rem}
.adm-tab{background:transparent;border:1px solid var(--border);color:rgba(234,234,234,.6);padding:.4rem .9rem;border-radius:6px;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:600;font-size:.75rem;letter-spacing:.5px;transition:all .2s;text-transform:uppercase}
.adm-tab.on,.adm-tab:hover{background:var(--purple);border-color:var(--purple);color:#fff}
.tab{display:none}.tab.on{display:block}
.fg{margin-bottom:1.2rem}
.fg label{display:block;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.8rem;color:var(--neon);letter-spacing:1px;text-transform:uppercase;margin-bottom:.4rem}
.fg input,.fg textarea,.fg select{width:100%;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:8px;padding:.7rem 1rem;color:var(--white);font-family:'Exo 2',sans-serif;font-size:.88rem;outline:none;transition:border-color .2s}
.fg input:focus,.fg textarea:focus,.fg select:focus{border-color:var(--purple);box-shadow:0 0 15px rgba(138,43,226,.2)}
.fg textarea{resize:vertical;min-height:90px}
.fg select option{background:#0d0020}
.fg2{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
@media(max-width:600px){.fg2{grid-template-columns:1fr}}

/* IMAGE UPLOAD AREA */
.img-drop{border:2px dashed var(--border);border-radius:10px;padding:1.5rem;text-align:center;cursor:pointer;transition:all .3s;position:relative;background:rgba(0,229,255,.02)}
.img-drop:hover{border-color:var(--purple);background:rgba(138,43,226,.05)}
.img-drop.drag{border-color:var(--green);background:rgba(0,255,106,.05)}
.img-drop input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%}
.up-icon{font-size:2rem;margin-bottom:.5rem;display:block}
.up-txt{font-family:'Rajdhani',sans-serif;font-size:.85rem;color:rgba(234,234,234,.6)}
.up-txt span{color:var(--neon);font-weight:700}
.prog-wrap{margin-top:.8rem;height:4px;background:rgba(255,255,255,.1);border-radius:2px;overflow:hidden;display:none}
.prog-wrap.on{display:block}
.prog-bar{height:100%;background:linear-gradient(90deg,var(--purple),var(--neon));width:0%;transition:width .3s;border-radius:2px}
.prev-box{margin-top:1rem;border-radius:8px;overflow:hidden;display:none;max-height:200px;position:relative}
.prev-box img{width:100%;height:200px;object-fit:cover}
.prev-box.on{display:block}
.rm-img{position:absolute;top:8px;right:8px;background:rgba(0,0,0,.7);border:1px solid var(--pink);color:var(--pink);border-radius:4px;padding:.2rem .5rem;cursor:pointer;font-size:.7rem;font-family:'Rajdhani',sans-serif;font-weight:700}

/* FIREBASE INFO BOX */
.fb-info{background:rgba(0,229,255,.05);border:1px solid rgba(0,229,255,.2);border-radius:8px;padding:.8rem 1rem;margin-bottom:1.5rem;font-family:'Rajdhani',sans-serif;font-size:.78rem;color:rgba(234,234,234,.6);line-height:1.5}
.fb-info strong{color:var(--neon)}

.btn-save{background:linear-gradient(135deg,var(--purple),var(--pink));color:#fff;border:none;padding:.8rem 2rem;border-radius:8px;cursor:pointer;font-family:'Orbitron',sans-serif;font-weight:700;font-size:.8rem;letter-spacing:1px;transition:all .3s;margin-top:.5rem}
.btn-save:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(138,43,226,.5)}
.btn-save:disabled{opacity:.5;cursor:not-allowed;transform:none}

/* MANAGE LIST */
.adm-item{display:flex;align-items:center;gap:1rem;padding:.8rem 1rem;background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:8px;margin-bottom:.6rem}
.adm-thumb{width:50px;height:40px;border-radius:4px;background:linear-gradient(135deg,#200040,#001030);display:flex;align-items:center;justify-content:center;font-size:1.2rem;flex-shrink:0;overflow:hidden}
.adm-thumb img{width:100%;height:100%;object-fit:cover}
.adm-info{flex:1}
.adm-ititle{font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.85rem;color:var(--white)}
.adm-icat{font-size:.7rem;color:var(--green);font-family:'Rajdhani',sans-serif;letter-spacing:1px}
.btn-del{background:transparent;border:1px solid var(--pink);color:var(--pink);padding:.25rem .6rem;border-radius:4px;cursor:pointer;font-size:.7rem;font-family:'Rajdhani',sans-serif;font-weight:700;transition:all .2s}
.btn-del:hover{background:var(--pink);color:#fff}

/* TOAST */
.toast{position:fixed;bottom:2rem;right:2rem;background:var(--green);color:#000;padding:.8rem 1.5rem;border-radius:8px;font-family:'Orbitron',sans-serif;font-size:.8rem;font-weight:700;z-index:9999;transform:translateY(100px);opacity:0;transition:all .4s;max-width:300px}
.toast.on{transform:translateY(0);opacity:1}
.toast.red{background:var(--pink);color:#fff}

/* EMPTY STATE */
.empty{text-align:center;padding:3rem;color:rgba(234,234,234,.4);font-family:'Rajdhani',sans-serif;font-size:.9rem;letter-spacing:1px}
.empty-icon{font-size:3rem;margin-bottom:1rem}

@media(max-width:768px){.hero-stats{gap:1.5rem}.stat-num{font-size:1.3rem}.nav-top{flex-wrap:wrap;gap:.5rem}}
</style>
</head>
<body>

<!-- SETUP BANNER -->
<div class="setup-banner" id="setupBanner">
  ‚ö†Ô∏è <strong>Firebase not connected yet</strong> ‚Äî images & posts only save on this device until you connect Firebase.
  <a href="#" onclick="event.preventDefault();openAdmin('firebase')">Click here to set up Firebase (5 min, free)</a>
  <button onclick="document.getElementById('setupBanner').classList.add('hidden')" style="margin-left:1rem;background:none;border:none;color:rgba(255,255,255,.4);cursor:pointer">‚úï</button>
</div>

<!-- SPINNER -->
<div class="spin-wrap" id="spinner">
  <div class="spin"></div>
  <div class="spin-txt" id="spinTxt">UPLOADING...</div>
</div>

<!-- HEADER -->
<header>
  <div class="nav-top">
    <a href="#" class="logo">
      <svg class="logo-svg" viewBox="0 0 52 52" fill="none">
        <defs>
          <linearGradient id="lg1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#00E5FF"/><stop offset="100%" stop-color="#8A2BE2"/></linearGradient>
          <linearGradient id="lg2" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#00FF6A"/><stop offset="100%" stop-color="#00E5FF"/></linearGradient>
          <filter id="gw"><feGaussianBlur stdDeviation="1.5" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
        </defs>
        <path d="M26 3L46 12L46 28C46 38 36 46 26 49C16 46 6 38 6 28L6 12Z" fill="url(#lg1)" opacity=".15" stroke="url(#lg1)" stroke-width="1.5"/>
        <path d="M26 8L42 16L42 28C42 36 34 43 26 46C18 43 10 36 10 28L10 16Z" fill="none" stroke="url(#lg2)" stroke-width=".8" opacity=".6"/>
        <text x="26" y="33" text-anchor="middle" font-family="Orbitron,sans-serif" font-size="18" font-weight="900" fill="url(#lg1)" filter="url(#gw)">Y</text>
        <circle cx="6" cy="12" r="2" fill="#00E5FF" opacity=".8"/>
        <circle cx="46" cy="12" r="2" fill="#8A2BE2" opacity=".8"/>
        <circle cx="26" cy="49" r="2" fill="#00FF6A" opacity=".8"/>
        <line x1="14" y1="2" x2="38" y2="2" stroke="url(#lg2)" stroke-width="1.5" stroke-linecap="round"/>
      </svg>
      <div><div class="logo-main">YAMIN AHMED</div><div class="logo-sub">eFootball Vlog</div></div>
    </a>
    <div class="nav-actions">
      <button class="btn-admin" onclick="openAdmin()">‚öô ADMIN</button>
      <a href="https://www.youtube.com/@YaminOfficial-iq3wp" target="_blank" class="btn-yt">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M21.8 8s-.2-1.4-.8-2c-.8-.8-1.6-.8-2-.9C16.3 5 12 5 12 5s-4.3 0-7 .1c-.4.1-1.2.1-2 .9-.6.6-.8 2-.8 2S2 9.6 2 11.2v1.5c0 1.6.2 3.2.2 3.2s.2 1.4.8 2c.8.8 1.8.8 2.3.9C7 19 12 19 12 19s4.3 0 7-.2c.4-.1 1.2-.1 2-.9.6-.6.8-2 .8-2s.2-1.6.2-3.2v-1.5C22 9.6 21.8 8 21.8 8zM10 14.5v-5l5.5 2.5L10 14.5z"/></svg>
        Follow on YouTube
      </a>
    </div>
  </div>
  <nav class="nav-scroll">
    <div class="nav-links">
      <a href="#home">Home</a><a href="#updates">News &amp; Patch Notes</a><a href="#builds">Player Build Guides</a><a href="#meta">Meta Playbook</a><a href="#f2p">F2P Hidden Gems</a><a href="#reviews">Manager Reviews</a><a href="#skills">Skill Move Tutorial</a><a href="#defending">Defending Masterclass</a><a href="#squads">Squad Showcases</a><a href="#form">Weekly Form Updates</a><a href="#coins">Coin &amp; GP Farming</a><a href="#ai">AI Creative Studio</a><a href="#compare">Comparison Tool</a><a href="#formation">Formation Lab</a><a href="#mobile">Mobile vs Console</a><a href="#tournament">Tournament Hub</a><a href="#contact">Contact</a>
    </div>
  </nav>
</header>

<!-- HERO -->
<div class="hero" id="home">
  <div class="hero-glow"></div><div class="hero-glow2"></div>
  <div class="hero-content">
    <div class="hero-badge">‚ö° eFootball Community Hub</div>
    <h1>Welcome to<br><span>Yamin Ahmed</span> Vlog</h1>
    <p class="hero-sub">Your Home for eFootball Tips, News &amp; Meta Guides</p>
    <a href="https://www.youtube.com/@YaminOfficial-iq3wp" target="_blank" class="btn-sub">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M21.8 8s-.2-1.4-.8-2c-.8-.8-1.6-.8-2-.9C16.3 5 12 5 12 5s-4.3 0-7 .1c-.4.1-1.2.1-2 .9-.6.6-.8 2-.8 2S2 9.6 2 11.2v1.5c0 1.6.2 3.2.2 3.2s.2 1.4.8 2c.8.8 1.8.8 2.3.9C7 19 12 19 12 19s4.3 0 7-.2c.4-.1 1.2-.1 2-.9.6-.6.8-2 .8-2s.2-1.6.2-3.2v-1.5C22 9.6 21.8 8 21.8 8zM10 14.5v-5l5.5 2.5L10 14.5z"/></svg>
      Subscribe on YouTube
    </a>
    <div class="hero-stats">
      <div class="stat"><div class="stat-num" id="postCount">0</div><div class="stat-label">Posts</div></div>
      <div class="stat"><div class="stat-num">17</div><div class="stat-label">Categories</div></div>
      <div class="stat"><div class="stat-num" id="squadCount">0</div><div class="stat-label">Showcases</div></div>
    </div>
  </div>
</div>
<div class="neon-sep"></div>

<!-- LATEST UPDATES -->
<section id="updates">
  <div class="sec-label">üì° Feed</div>
  <div class="sec-title">Latest Updates</div>
  <div class="cards-grid" id="postsGrid"><div class="empty" style="grid-column:1/-1"><div class="empty-icon">üì≠</div>Loading posts...</div></div>
</section>
<div class="neon-sep"></div>

<!-- CATEGORIES -->
<section>
  <div class="sec-label">üóÇÔ∏è Browse</div>
  <div class="sec-title">Top Categories</div>
  <div class="cats-grid">
    <a href="#updates" class="cat-btn"><span class="cat-icon">üì∞</span><span class="cat-name">News &amp; Patch Notes</span></a>
    <a href="#builds" class="cat-btn"><span class="cat-icon">‚ö°</span><span class="cat-name">Player Build Guides</span></a>
    <a href="#meta" class="cat-btn"><span class="cat-icon">üìñ</span><span class="cat-name">Meta Playbook</span></a>
    <a href="#f2p" class="cat-btn"><span class="cat-icon">üíé</span><span class="cat-name">F2P Hidden Gems</span></a>
    <a href="#reviews" class="cat-btn"><span class="cat-icon">üß†</span><span class="cat-name">Manager Reviews</span></a>
    <a href="#skills" class="cat-btn"><span class="cat-icon">üéØ</span><span class="cat-name">Skill Move Tutorial</span></a>
    <a href="#defending" class="cat-btn"><span class="cat-icon">üõ°Ô∏è</span><span class="cat-name">Defending Masterclass</span></a>
    <a href="#squads" class="cat-btn"><span class="cat-icon">üë•</span><span class="cat-name">Squad Showcases</span></a>
    <a href="#form" class="cat-btn"><span class="cat-icon">üìà</span><span class="cat-name">Weekly Form Updates</span></a>
    <a href="#coins" class="cat-btn"><span class="cat-icon">ü™ô</span><span class="cat-name">Coin &amp; GP Farming</span></a>
    <a href="#ai" class="cat-btn"><span class="cat-icon">ü§ñ</span><span class="cat-name">AI Creative Studio</span></a>
    <a href="#compare" class="cat-btn"><span class="cat-icon">‚öñÔ∏è</span><span class="cat-name">Comparison Tool</span></a>
    <a href="#formation" class="cat-btn"><span class="cat-icon">üî¨</span><span class="cat-name">Formation Lab</span></a>
    <a href="#mobile" class="cat-btn"><span class="cat-icon">üì±</span><span class="cat-name">Mobile vs Console</span></a>
    <a href="#tournament" class="cat-btn"><span class="cat-icon">üèÜ</span><span class="cat-name">Tournament Hub</span></a>
    <a href="#contact" class="cat-btn"><span class="cat-icon">üì¨</span><span class="cat-name">Contact</span></a>
  </div>
</section>
<div class="neon-sep"></div>

<!-- FEATURED VIDEO -->
<section id="featured">
  <div class="sec-label">üé¨ Watch</div>
  <div class="sec-title">Featured Video</div>
  <div class="vid-wrap">
    <div class="vid-embed"><iframe id="featIframe" src="about:blank" allowfullscreen></iframe></div>
    <div class="vid-info">
      <span class="vid-tag">‚≠ê FEATURED</span>
      <div class="vid-title" id="featTitle">Subscribe for Latest eFootball Content</div>
      <p class="vid-desc" id="featDesc">Check out Yamin Ahmed's latest eFootball guides, meta tips, and squad builds. New content drops regularly!</p>
    </div>
  </div>
</section>
<div class="neon-sep"></div>

<!-- SQUAD SHOWCASES -->
<section id="squads">
  <div class="sec-label">üèüÔ∏è Community</div>
  <div class="sec-title">Squad Showcases</div>
  <div class="com-hdr">
    <p style="color:rgba(234,234,234,.6);font-size:.85rem;font-family:'Rajdhani',sans-serif">Share your best squad builds!</p>
    <button class="btn-upload" onclick="openAdmin('squad')">+ Upload Your Squad</button>
  </div>
  <div class="squad-grid" id="squadGrid"><div class="empty" style="grid-column:1/-1"><div class="empty-icon">‚öΩ</div>Loading squads...</div></div>
</section>
<div class="neon-sep"></div>

<!-- FOOTER -->
<footer id="contact">
  <div class="foot-grid">
    <div class="foot-about">
      <div style="display:flex;align-items:center;gap:.8rem;margin-bottom:.8rem">
        <svg width="36" height="36" viewBox="0 0 52 52" fill="none"><path d="M26 3L46 12L46 28C46 38 36 46 26 49C16 46 6 38 6 28L6 12Z" fill="#8A2BE2" opacity=".3" stroke="#00E5FF" stroke-width="1.5"/><text x="26" y="33" text-anchor="middle" font-family="Orbitron" font-size="18" font-weight="900" fill="#00E5FF">Y</text></svg>
        <div><div style="font-family:'Orbitron',sans-serif;font-size:.9rem;color:#00E5FF;font-weight:700">YAMIN AHMED VLOG</div><div style="font-family:'Rajdhani',sans-serif;font-size:.65rem;color:#00FF6A;letter-spacing:2px">eFootball Community</div></div>
      </div>
      <p>Your #1 destination for eFootball tips, meta guides, squad builds, and the latest patch notes.</p>
    </div>
    <div>
      <div class="foot-title">QUICK LINKS</div>
      <ul class="foot-links"><li><a href="#">News &amp; Patch Notes</a></li><li><a href="#">Player Build Guides</a></li><li><a href="#">Meta Playbook</a></li><li><a href="#">Coin &amp; GP Farming</a></li><li><a href="#">Tournament Hub</a></li></ul>
    </div>
    <div>
      <div class="foot-title">FOLLOW ME</div>
      <ul class="foot-links"><li><a href="https://www.youtube.com/@YaminOfficial-iq3wp" target="_blank">‚ñ∂ YouTube Channel</a></li><li><a href="#">üìß Contact Me</a></li></ul>
      <div style="margin-top:1.5rem"><a href="https://www.youtube.com/@YaminOfficial-iq3wp" target="_blank" class="btn-yt" style="display:inline-flex">Subscribe</a></div>
    </div>
  </div>
  <div class="foot-bottom">¬© 2025 Yamin Ahmed Vlog. All Rights Reserved. Built with ‚ö° for the eFootball Community.</div>
</footer>

<!-- PASSWORD MODAL -->
<div class="pw-ov" id="pwOv">
  <div class="pw-box">
    <div class="pw-icon">üîê</div>
    <div class="pw-title">ADMIN ACCESS</div>
    <div class="pw-sub">Enter your admin password</div>
    <div class="pw-wrap">
      <input class="pw-inp" type="password" id="pwInp" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="20" onkeydown="if(event.key==='Enter')checkPw()">
      <button class="pw-eye" onclick="toggleEye()" id="pwEye">üëÅ</button>
    </div>
    <div class="pw-err" id="pwErr"></div>
    <button class="pw-go" onclick="checkPw()">UNLOCK ADMIN ‚ö°</button><br>
    <button class="pw-cancel" onclick="closePw()">‚úï Cancel</button>
    <div class="pw-att" id="pwAtt"></div>
  </div>
</div>

<!-- ADMIN PANEL -->
<div class="adm-ov" id="admOv">
  <div class="adm-panel">
    <div class="adm-hdr"><h2>‚öô ADMIN PANEL</h2><button class="adm-close" onclick="closeAdm()">‚úï</button></div>
    <div class="adm-body">
      <div class="adm-tabs">
        <button class="adm-tab on" onclick="swTab('post')">üìù Add Post</button>
        <button class="adm-tab" onclick="swTab('squad')">‚öΩ Add Squad</button>
        <button class="adm-tab" onclick="swTab('video')">üé¨ Featured Video</button>
        <button class="adm-tab" onclick="swTab('manage')">üóÇ Manage</button>
        <button class="adm-tab" onclick="swTab('firebase')">üî• Firebase Setup</button>
      </div>

      <!-- ADD POST -->
      <div class="tab on" id="tab-post">
        <div class="fb-info">üî• <strong>Images upload to Firebase Storage</strong> ‚Äî once Firebase is connected, photos appear on ALL phones &amp; devices instantly.</div>
        <div class="fg"><label>Category</label>
          <select id="pCat">
            <option>üì∞ News &amp; Patch Notes</option><option>‚ö° Player Build Guides</option><option>üìñ Meta Playbook</option><option>üíé F2P Hidden Gems</option><option>üß† Manager Reviews</option><option>üéØ Skill Move Tutorial</option><option>üõ°Ô∏è Defending Masterclass</option><option>üë• Squad Showcases</option><option>üìà Weekly Form Updates</option><option>ü™ô Coin &amp; GP Farming</option><option>ü§ñ AI Creative Studio</option><option>‚öñÔ∏è Comparison Tool</option><option>üî¨ Formation Laboratory</option><option>üì± Mobile vs. Console</option><option>üèÜ Tournament Hub</option>
          </select>
        </div>
        <div class="fg"><label>Post Title</label><input type="text" id="pTitle" placeholder="e.g. Best Meta Formation for Patch 4.5.0"></div>
        <div class="fg"><label>Description</label><textarea id="pDesc" placeholder="Short summary..."></textarea></div>
        <div class="fg2">
          <div class="fg"><label>Link (optional)</label><input type="url" id="pLink" placeholder="https://..."></div>
          <div class="fg"><label>Date</label><input type="date" id="pDate"></div>
        </div>
        <div class="fg">
          <label>üì∏ Post Image ‚Äî JPEG/PNG (shows on all devices when Firebase connected)</label>
          <div class="img-drop" id="pDrop">
            <input type="file" id="pImgFile" accept="image/jpeg,image/png,image/webp,image/gif" onchange="selImg(this,'p')">
            <span class="up-icon">üñºÔ∏è</span>
            <div class="up-txt">Drag &amp; drop or <span>click to browse</span><br><small style="opacity:.5">JPEG ¬∑ PNG ¬∑ WebP ‚Äî Max 5MB</small></div>
            <div class="prog-wrap" id="pProg"><div class="prog-bar" id="pBar"></div></div>
          </div>
          <div class="prev-box" id="pPrev"><img id="pPrevImg" src="" alt=""><button class="rm-img" onclick="rmImg('p')">‚úï Remove</button></div>
        </div>
        <button class="btn-save" id="pBtn" onclick="addPost()">‚úö PUBLISH POST</button>
      </div>

      <!-- ADD SQUAD -->
      <div class="tab" id="tab-squad">
        <div class="fb-info">üî• <strong>Squad screenshots upload to Firebase Storage</strong> ‚Äî everyone on every device will see your squad photo.</div>
        <div class="fg"><label>Squad Title</label><input type="text" id="sTitle" placeholder="e.g. Insane F2P La Liga Squad ‚Äì 4-3-3"></div>
        <div class="fg"><label>Description</label><textarea id="sDesc" placeholder="Formation, key players, strategy..."></textarea></div>
        <div class="fg"><label>Submitted By</label><input type="text" id="sAuthor" placeholder="Your name / username"></div>
        <div class="fg">
          <label>üì∏ Squad Screenshot ‚Äî JPEG/PNG</label>
          <div class="img-drop" id="sDrop">
            <input type="file" id="sImgFile" accept="image/jpeg,image/png,image/webp" onchange="selImg(this,'s')">
            <span class="up-icon">üì∏</span>
            <div class="up-txt">Upload your squad screenshot<br><span>click to browse</span><br><small style="opacity:.5">JPEG ¬∑ PNG ¬∑ WebP ‚Äî Max 5MB</small></div>
            <div class="prog-wrap" id="sProg"><div class="prog-bar" id="sBar"></div></div>
          </div>
          <div class="prev-box" id="sPrev"><img id="sPrevImg" src="" alt=""><button class="rm-img" onclick="rmImg('s')">‚úï Remove</button></div>
        </div>
        <button class="btn-save" id="sBtn" onclick="addSquad()">‚úö SUBMIT SQUAD</button>
      </div>

      <!-- FEATURED VIDEO -->
      <div class="tab" id="tab-video">
        <div class="fg"><label>YouTube Video ID or URL</label><input type="text" id="vUrl" placeholder="e.g. dQw4w9WgXcQ or full YouTube URL"></div>
        <div class="fg"><label>Video Title</label><input type="text" id="vTitle" placeholder="e.g. Ultimate eFootball Meta Guide 2025"></div>
        <div class="fg"><label>Video Description</label><textarea id="vDesc" placeholder="What does this video cover?"></textarea></div>
        <button class="btn-save" onclick="setVideo()">‚úö SET FEATURED VIDEO</button>
      </div>

      <!-- MANAGE -->
      <div class="tab" id="tab-manage">
        <div style="font-family:'Rajdhani',sans-serif;font-size:.8rem;color:rgba(234,234,234,.5);margin-bottom:1rem;letter-spacing:1px">ALL POSTS</div>
        <div id="mPosts"><div class="empty"><div class="empty-icon">üì≠</div>Loading...</div></div>
        <div style="font-family:'Rajdhani',sans-serif;font-size:.8rem;color:rgba(234,234,234,.5);margin:2rem 0 1rem;letter-spacing:1px">SQUAD SHOWCASES</div>
        <div id="mSquads"><div class="empty"><div class="empty-icon">‚öΩ</div>Loading...</div></div>
      </div>

      <!-- FIREBASE SETUP -->
      <div class="tab" id="tab-firebase">
        <div style="background:rgba(255,100,0,.08);border:1px solid rgba(255,160,0,.3);border-radius:10px;padding:1.5rem;margin-bottom:1.5rem">
          <div style="font-family:'Orbitron',sans-serif;font-size:.9rem;color:#ffb347;margin-bottom:1rem;letter-spacing:1px">üî• HOW TO CONNECT FIREBASE (FREE ‚Äî 5 MINS)</div>
          <div style="font-family:'Rajdhani',sans-serif;font-size:.85rem;color:rgba(234,234,234,.8);line-height:2">
            <b style="color:#00E5FF">Step 1</b> ‚Üí Go to <a href="https://console.firebase.google.com" target="_blank" style="color:#00FF6A">console.firebase.google.com</a><br>
            <b style="color:#00E5FF">Step 2</b> ‚Üí <b>Add project</b> ‚Üí name it <code style="background:rgba(255,255,255,.1);padding:.1rem .4rem;border-radius:3px">yamin-vlog</code> ‚Üí Create<br>
            <b style="color:#00E5FF">Step 3</b> ‚Üí Click the <b>&lt;/&gt; Web</b> icon ‚Üí Register app ‚Üí <b>Copy the firebaseConfig</b><br>
            <b style="color:#00E5FF">Step 4</b> ‚Üí Paste the config in the box below ‚Üí Click <b>Save &amp; Connect</b><br>
            <b style="color:#00E5FF">Step 5</b> ‚Üí Firebase console ‚Üí <b>Build ‚Üí Firestore Database</b> ‚Üí Create ‚Üí <b>Test mode</b><br>
            <b style="color:#00E5FF">Step 6</b> ‚Üí Firebase console ‚Üí <b>Build ‚Üí Storage</b> ‚Üí Get started ‚Üí <b>Test mode</b><br>
            <b style="color:#00FF6A">‚úÖ Done!</b> Images &amp; posts now sync to every phone &amp; device instantly!
          </div>
        </div>
        <div class="fg">
          <label>Paste Your Firebase Config Object</label>
          <textarea id="fbConfigInput" style="min-height:150px;font-family:monospace;font-size:.78rem" placeholder="Paste the firebaseConfig object here, e.g.:
{
  apiKey: &quot;AIza...&quot;,
  authDomain: &quot;your-app.firebaseapp.com&quot;,
  projectId: &quot;your-app&quot;,
  storageBucket: &quot;your-app.appspot.com&quot;,
  messagingSenderId: &quot;12345&quot;,
  appId: &quot;1:12345:web:abc&quot;
}"></textarea>
        </div>
        <button class="btn-save" onclick="saveFbConfig()">üíæ SAVE &amp; CONNECT FIREBASE</button>
        <div id="fbStatus" style="margin-top:1rem;font-family:'Rajdhani',sans-serif;font-size:.85rem"></div>
      </div>

    </div>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
import { getFirestore, collection, addDoc, deleteDoc, doc, onSnapshot, orderBy, query, updateDoc, increment } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js';
import { getStorage, ref, uploadBytesResumable, getDownloadURL } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-storage.js';

window._fbInit = (config) => {
  try {
    const app = initializeApp(config);
    const db = getFirestore(app);
    const st = getStorage(app);
    window._fb = { db, st, collection, addDoc, deleteDoc, doc, onSnapshot, orderBy, query, updateDoc, increment, ref, uploadBytesResumable, getDownloadURL, ready: true };
    document.getElementById('setupBanner').classList.add('hidden');
    window.dispatchEvent(new Event('fb-ready'));
    return true;
  } catch(e) { console.error(e); return false; }
};

// Try saved config
const sc = localStorage.getItem('ymn_fb');
if (sc) { try { window._fbInit(JSON.parse(sc)); } catch(e){} }
else { window._fb = { ready: false }; window.dispatchEvent(new Event('fb-ready')); }
</script>

<script>
// PASSWORD
const PW = 'EFB2026';
let pwTries = 0, pwLock = false, pendTab = null;

function openAdmin(tab) {
  pendTab = tab || null;
  if (pwLock) { toast('‚õî Too many attempts. Wait 5 min.', true); return; }
  document.getElementById('pwOv').classList.add('open');
  document.getElementById('pwInp').value = '';
  document.getElementById('pwErr').textContent = '';
  document.getElementById('pwAtt').textContent = '';
  document.body.style.overflow = 'hidden';
  setTimeout(() => document.getElementById('pwInp').focus(), 100);
}

function checkPw() {
  const v = document.getElementById('pwInp').value;
  if (v === PW) {
    pwTries = 0; closePw();
    document.getElementById('admOv').classList.add('open');
    document.body.style.overflow = 'hidden';
    if (pendTab) swTab(pendTab);
    if (pendTab === 'manage') loadManage();
  } else {
    pwTries++;
    const inp = document.getElementById('pwInp');
    inp.classList.add('err'); setTimeout(() => inp.classList.remove('err'), 400); inp.value = '';
    if (pwTries >= 5) {
      pwLock = true;
      document.getElementById('pwErr').textContent = '‚õî Locked! Try again in 5 minutes.';
      setTimeout(() => { pwLock = false; pwTries = 0; }, 300000);
      closePw(); document.body.style.overflow = '';
    } else {
      const r = 5 - pwTries;
      document.getElementById('pwErr').textContent = '‚ùå Wrong password.';
      document.getElementById('pwAtt').textContent = r + ' attempt' + (r !== 1 ? 's' : '') + ' remaining';
    }
  }
}

function toggleEye() {
  const i = document.getElementById('pwInp'), b = document.getElementById('pwEye');
  i.type = i.type === 'password' ? 'text' : 'password';
  b.textContent = i.type === 'password' ? 'üëÅ' : 'üôà';
}

function closePw() {
  document.getElementById('pwOv').classList.remove('open');
  if (!document.getElementById('admOv').classList.contains('open')) document.body.style.overflow = '';
}

function closeAdm() {
  document.getElementById('admOv').classList.remove('open');
  document.body.style.overflow = '';
}

document.getElementById('pwOv').addEventListener('click', e => { if (e.target.id === 'pwOv') closePw(); });
document.getElementById('admOv').addEventListener('click', e => { if (e.target.id === 'admOv') closeAdm(); });

function swTab(name) {
  const names = ['post','squad','video','manage','firebase'];
  document.querySelectorAll('.adm-tab').forEach((t, i) => t.classList.toggle('on', names[i] === name));
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('on'));
  document.getElementById('tab-' + name).classList.add('on');
  if (name === 'manage') loadManage();
}

// IMAGE SELECT
const pImgs = { p: null, s: null };

function selImg(inp, k) {
  const f = inp.files[0];
  if (!f) return;
  if (f.size > 5 * 1024 * 1024) { toast('‚ùå Image too large. Max 5MB', true); return; }
  pImgs[k] = f;
  const r = new FileReader();
  r.onload = e => {
    document.getElementById(k + 'PrevImg').src = e.target.result;
    document.getElementById(k + 'Prev').classList.add('on');
  };
  r.readAsDataURL(f);
}

function rmImg(k) {
  pImgs[k] = null;
  document.getElementById(k + 'Prev').classList.remove('on');
  document.getElementById(k + 'PrevImg').src = '';
  document.getElementById(k + 'ImgFile').value = '';
}

// Drag and drop
['p','s'].forEach(k => {
  const z = document.getElementById(k + 'Drop');
  if (!z) return;
  z.addEventListener('dragover', e => { e.preventDefault(); z.classList.add('drag'); });
  z.addEventListener('dragleave', () => z.classList.remove('drag'));
  z.addEventListener('drop', e => {
    e.preventDefault(); z.classList.remove('drag');
    const f = e.dataTransfer.files[0];
    if (f && f.type.startsWith('image/')) {
      pImgs[k] = f;
      const r = new FileReader();
      r.onload = ev => { document.getElementById(k+'PrevImg').src = ev.target.result; document.getElementById(k+'Prev').classList.add('on'); };
      r.readAsDataURL(f);
    }
  });
});

async function uploadImg(file, path, barId, wrapId) {
  const fb = window._fb;
  if (!fb || !fb.ready) {
    // Local base64 fallback
    return new Promise(res => {
      const r = new FileReader(); r.onload = e => res(e.target.result); r.readAsDataURL(file);
    });
  }
  return new Promise((res, rej) => {
    const storRef = fb.ref(fb.st, path);
    const task = fb.uploadBytesResumable(storRef, file);
    document.getElementById(wrapId).classList.add('on');
    task.on('state_changed',
      snap => { document.getElementById(barId).style.width = (snap.bytesTransferred / snap.totalBytes * 100) + '%'; },
      err => { document.getElementById(wrapId).classList.remove('on'); rej(err); },
      async () => {
        document.getElementById(wrapId).classList.remove('on');
        document.getElementById(barId).style.width = '0%';
        res(await fb.getDownloadURL(task.snapshot.ref));
      }
    );
  });
}

function catIcon(cat) {
  const m = {'News':'üì∞','Player Build':'‚ö°','Meta':'üìñ','F2P':'üíé','Manager':'üß†','Skill':'üéØ','Defending':'üõ°Ô∏è','Squad':'üë•','Form':'üìà','Coin':'ü™ô','AI':'ü§ñ','Comparison':'‚öñÔ∏è','Formation':'üî¨','Mobile':'üì±','Tournament':'üèÜ'};
  for (const k in m) { if (cat && cat.includes(k)) return m[k]; }
  return 'üìÑ';
}

// ADD POST
async function addPost() {
  const title = document.getElementById('pTitle').value.trim();
  if (!title) { toast('‚ùå Enter a post title.', true); return; }
  const btn = document.getElementById('pBtn');
  btn.disabled = true; btn.textContent = '‚è≥ Publishing...';
  showSpin('UPLOADING IMAGE...');
  try {
    let imageUrl = null;
    if (pImgs.p) {
      const slug = title.replace(/\s+/g,'_').slice(0,30);
      imageUrl = await uploadImg(pImgs.p, `posts/${slug}_${Date.now()}`, 'pBar', 'pProg');
    }
    const data = {
      title,
      category: document.getElementById('pCat').value,
      desc: document.getElementById('pDesc').value.trim(),
      link: document.getElementById('pLink').value.trim(),
      date: document.getElementById('pDate').value,
      imageUrl,
      createdAt: Date.now()
    };
    const fb = window._fb;
    if (fb && fb.ready) {
      await fb.addDoc(fb.collection(fb.db, 'posts'), data);
      toast('‚úÖ Published! Visible on all devices!');
    } else {
      const lp = JSON.parse(localStorage.getItem('ymn_posts') || '[]');
      lp.push({ ...data, id: 'l' + Date.now() });
      localStorage.setItem('ymn_posts', JSON.stringify(lp));
      renderPosts(lp);
      toast('‚ö†Ô∏è Saved locally ‚Äî connect Firebase for all devices.', true);
    }
    document.getElementById('pTitle').value = '';
    document.getElementById('pDesc').value = '';
    document.getElementById('pLink').value = '';
    rmImg('p');
  } catch(e) { toast('‚ùå ' + e.message, true); }
  finally { hideSpin(); btn.disabled = false; btn.textContent = '‚úö PUBLISH POST'; }
}

// ADD SQUAD
async function addSquad() {
  const title = document.getElementById('sTitle').value.trim();
  if (!title) { toast('‚ùå Enter a squad title.', true); return; }
  const btn = document.getElementById('sBtn');
  btn.disabled = true; btn.textContent = '‚è≥ Submitting...';
  showSpin('UPLOADING SQUAD...');
  try {
    let imageUrl = null;
    if (pImgs.s) {
      const slug = title.replace(/\s+/g,'_').slice(0,30);
      imageUrl = await uploadImg(pImgs.s, `squads/${slug}_${Date.now()}`, 'sBar', 'sProg');
    }
    const data = {
      title,
      desc: document.getElementById('sDesc').value.trim(),
      author: document.getElementById('sAuthor').value.trim(),
      imageUrl,
      votes: 0,
      createdAt: Date.now()
    };
    const fb = window._fb;
    if (fb && fb.ready) {
      await fb.addDoc(fb.collection(fb.db, 'squads'), data);
      toast('‚úÖ Squad submitted! Visible on all devices!');
    } else {
      const ls = JSON.parse(localStorage.getItem('ymn_squads') || '[]');
      ls.push({ ...data, id: 'l' + Date.now() });
      localStorage.setItem('ymn_squads', JSON.stringify(ls));
      renderSquads(ls);
      toast('‚ö†Ô∏è Saved locally ‚Äî connect Firebase for all devices.', true);
    }
    document.getElementById('sTitle').value = '';
    document.getElementById('sDesc').value = '';
    document.getElementById('sAuthor').value = '';
    rmImg('s');
  } catch(e) { toast('‚ùå ' + e.message, true); }
  finally { hideSpin(); btn.disabled = false; btn.textContent = '‚úö SUBMIT SQUAD'; }
}

// DELETE
async function delPost(id) {
  if (!confirm('Delete this post?')) return;
  const fb = window._fb;
  if (fb && fb.ready) { await fb.deleteDoc(fb.doc(fb.db,'posts',id)); toast('üóëÔ∏è Deleted.'); }
  else {
    let lp = JSON.parse(localStorage.getItem('ymn_posts')||'[]');
    lp = lp.filter(p => p.id !== id);
    localStorage.setItem('ymn_posts', JSON.stringify(lp));
    renderPosts(lp); loadManage(); toast('üóëÔ∏è Deleted.');
  }
}

async function delSquad(id) {
  if (!confirm('Delete this squad?')) return;
  const fb = window._fb;
  if (fb && fb.ready) { await fb.deleteDoc(fb.doc(fb.db,'squads',id)); toast('üóëÔ∏è Deleted.'); }
  else {
    let ls = JSON.parse(localStorage.getItem('ymn_squads')||'[]');
    ls = ls.filter(s => s.id !== id);
    localStorage.setItem('ymn_squads', JSON.stringify(ls));
    renderSquads(ls); loadManage(); toast('üóëÔ∏è Deleted.');
  }
}

// UPVOTE
async function upvote(id, btn) {
  const key = 'uv_' + id;
  if (localStorage.getItem(key)) { toast('You already upvoted!', true); return; }
  localStorage.setItem(key, '1');
  btn.classList.add('active');
  const el = document.getElementById('vc_' + id);
  if (el) el.textContent = parseInt(el.textContent || 0) + 1;
  const fb = window._fb;
  if (fb && fb.ready) {
    try { await fb.updateDoc(fb.doc(fb.db,'squads',id), { votes: fb.increment(1) }); } catch(e){}
  }
}

// FEATURED VIDEO
function setVideo() {
  let url = document.getElementById('vUrl').value.trim();
  const title = document.getElementById('vTitle').value.trim();
  const desc = document.getElementById('vDesc').value.trim();
  const m = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|embed\/)([a-zA-Z0-9_-]{11})/);
  const vid = m ? m[1] : url;
  document.getElementById('featIframe').src = 'https://www.youtube.com/embed/' + vid;
  if (title) document.getElementById('featTitle').textContent = title;
  if (desc) document.getElementById('featDesc').textContent = desc;
  localStorage.setItem('ymn_feat', JSON.stringify({ vid, title, desc }));
  toast('‚úÖ Featured video updated!');
}

const sf = localStorage.getItem('ymn_feat');
if (sf) { try { const f = JSON.parse(sf); if (f.vid) { document.getElementById('featIframe').src = 'https://www.youtube.com/embed/'+f.vid; if(f.title) document.getElementById('featTitle').textContent=f.title; if(f.desc) document.getElementById('featDesc').textContent=f.desc; } } catch(e){} }

// FIREBASE CONFIG SAVE
function saveFbConfig() {
  const raw = document.getElementById('fbConfigInput').value.trim();
  const st = document.getElementById('fbStatus');
  try {
    let s = raw.replace(/^\s*\{/, '{').replace(/\}\s*$/, '}');
    s = s.replace(/([{,]\s*)([a-zA-Z_][a-zA-Z0-9_]*)\s*:/g, '$1"$2":');
    s = s.replace(/:\s*'([^']*)'/g, ':"$1"');
    s = s.replace(/,(\s*[}\]])/g, '$1');
    const cfg = JSON.parse(s);
    if (!cfg.apiKey || !cfg.projectId) { st.innerHTML = '<span style="color:var(--pink)">‚ùå Missing apiKey or projectId</span>'; return; }
    localStorage.setItem('ymn_fb', JSON.stringify(cfg));
    const ok = window._fbInit(cfg);
    if (ok) { st.innerHTML = '<span style="color:var(--green)">‚úÖ Connected! Reloading...</span>'; setTimeout(() => location.reload(), 1500); }
    else { st.innerHTML = '<span style="color:var(--pink)">‚ùå Could not connect. Check your config.</span>'; }
  } catch(e) { st.innerHTML = '<span style="color:var(--pink)">‚ùå Parse error: ' + e.message + '</span>'; }
}

// RENDER POSTS
function renderPosts(posts) {
  const g = document.getElementById('postsGrid');
  document.getElementById('postCount').textContent = posts.length;
  if (!posts.length) { g.innerHTML = '<div class="empty" style="grid-column:1/-1"><div class="empty-icon">üì≠</div>No posts yet ‚Äî open Admin Panel to add!</div>'; return; }
  g.innerHTML = posts.map(p => {
    const img = p.imageUrl
      ? `<div class="card-img-wrap"><img src="${p.imageUrl}" alt="" loading="lazy"><span class="card-tag">${p.category}</span></div>`
      : `<div class="card-placeholder">${catIcon(p.category)}<span class="card-tag">${p.category}</span></div>`;
    const href = p.link ? `href="${p.link}" target="_blank"` : 'href="#"';
    return `<a ${href} class="post-card">${img}<div class="card-body"><div class="card-title">${p.title}</div><div class="card-desc">${p.desc||''}</div><div class="card-meta"><span>${p.date||''}</span><span style="color:#00E5FF">‚Üí Read More</span></div></div></a>`;
  }).join('');
}

// RENDER SQUADS
function renderSquads(squads) {
  const g = document.getElementById('squadGrid');
  document.getElementById('squadCount').textContent = squads.length;
  if (!squads.length) { g.innerHTML = '<div class="empty" style="grid-column:1/-1"><div class="empty-icon">‚öΩ</div>No squads yet ‚Äî be the first!</div>'; return; }
  g.innerHTML = squads.map(s => {
    const img = s.imageUrl
      ? `<div class="squad-img"><img src="${s.imageUrl}" alt="" loading="lazy"></div>`
      : `<div class="squad-img">‚öΩ</div>`;
    return `<div class="squad-card">${img}<div class="squad-body"><div class="squad-title">${s.title}</div><div style="font-size:.75rem;color:rgba(234,234,234,.5);font-family:'Rajdhani',sans-serif;margin-bottom:.5rem">by ${s.author||'Anonymous'}</div><div style="font-size:.78rem;color:rgba(234,234,234,.6);margin-bottom:.8rem">${s.desc||''}</div><div class="upvote-row"><button class="upvote-btn" onclick="upvote('${s.id}',this)">‚ñ≤ Upvote</button><span class="upvote-ct" id="vc_${s.id}">${s.votes||0}</span></div></div></div>`;
  }).join('');
}

// MANAGE TAB
function loadManage() {
  const fb = window._fb;
  if (fb && fb.ready) {
    fb.getDocs ? null : null; // handled by listeners
    // Re-fetch for manage tab
    import('https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js').then(({ getDocs }) => {
      getDocs(fb.query(fb.collection(fb.db,'posts'), fb.orderBy('createdAt','desc'))).then(snap => {
        const posts = snap.docs.map(d => ({id:d.id,...d.data()}));
        renderManageList('mPosts', posts, 'post');
      });
      getDocs(fb.query(fb.collection(fb.db,'squads'), fb.orderBy('createdAt','desc'))).then(snap => {
        const squads = snap.docs.map(d => ({id:d.id,...d.data()}));
        renderManageList('mSquads', squads, 'squad');
      });
    });
  } else {
    const lp = JSON.parse(localStorage.getItem('ymn_posts')||'[]');
    const ls = JSON.parse(localStorage.getItem('ymn_squads')||'[]');
    renderManageList('mPosts', lp, 'post');
    renderManageList('mSquads', ls, 'squad');
  }
}

function renderManageList(elId, items, type) {
  const el = document.getElementById(elId);
  if (!items.length) { el.innerHTML = '<div class="empty"><div class="empty-icon">' + (type==='post'?'üì≠':'‚öΩ') + '</div>None yet</div>'; return; }
  const delFn = type === 'post' ? 'delPost' : 'delSquad';
  el.innerHTML = items.map(item => `
    <div class="adm-item">
      <div class="adm-thumb">${item.imageUrl ? `<img src="${item.imageUrl}">` : (type==='post' ? catIcon(item.category) : '‚öΩ')}</div>
      <div class="adm-info"><div class="adm-ititle">${item.title}</div><div class="adm-icat">${type==='post'?(item.category+' ¬∑ '+(item.date||'')):'by '+(item.author||'Anon')+' ¬∑ '+(item.votes||0)+' votes'}</div></div>
      <button class="btn-del" onclick="${delFn}('${item.id}')">‚úï Delete</button>
    </div>`).join('');
}

// SPINNER
function showSpin(t) { document.getElementById('spinTxt').textContent = t||'LOADING...'; document.getElementById('spinner').classList.add('on'); }
function hideSpin() { document.getElementById('spinner').classList.remove('on'); }

// TOAST
let toastT;
function toast(msg, red) {
  const el = document.getElementById('toast');
  el.textContent = msg;
  el.classList.toggle('red', !!red);
  el.classList.add('on');
  clearTimeout(toastT);
  toastT = setTimeout(() => el.classList.remove('on'), 4000);
}

// INIT
document.getElementById('pDate').valueAsDate = new Date();

window.addEventListener('fb-ready', () => {
  const fb = window._fb;
  if (fb && fb.ready) {
    fb.onSnapshot(fb.query(fb.collection(fb.db,'posts'), fb.orderBy('createdAt','desc')), snap => {
      renderPosts(snap.docs.map(d => ({id:d.id,...d.data()})));
    });
    fb.onSnapshot(fb.query(fb.collection(fb.db,'squads'), fb.orderBy('createdAt','desc')), snap => {
      renderSquads(snap.docs.map(d => ({id:d.id,...d.data()})));
    });
  } else {
    renderPosts(JSON.parse(localStorage.getItem('ymn_posts')||'[]'));
    renderSquads(JSON.parse(localStorage.getItem('ymn_squads')||'[]'));
  }
}, { once: true });
</script>
</body>
</html>
