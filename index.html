<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yamin Ahmed Vlog ‚Äì eFootball Tips, News & Meta Guides</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;600;700&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{--purple:#8A2BE2;--neon:#00E5FF;--green:#00FF6A;--pink:#FF0077;--white:#EAEAEA;--card:rgba(255,255,255,0.04);--border:rgba(0,229,255,0.18)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Exo 2',sans-serif;background:linear-gradient(135deg,#0A0A0A 0%,#0d001a 50%,#1B0033 100%);background-attachment:fixed;color:var(--white);min-height:100vh;overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;background-image:linear-gradient(rgba(0,229,255,0.03)1px,transparent 1px),linear-gradient(90deg,rgba(0,229,255,0.03)1px,transparent 1px);background-size:60px 60px;pointer-events:none;z-index:0}

/* BANNER */
.banner{background:rgba(255,140,0,.1);border-bottom:1px solid rgba(255,160,0,.35);padding:.65rem 1.5rem;text-align:center;font-family:'Rajdhani',sans-serif;font-size:.82rem;color:#ffb347;position:relative;z-index:2;display:flex;align-items:center;justify-content:center;gap:.5rem;flex-wrap:wrap}
.banner a{color:var(--neon);cursor:pointer;text-decoration:underline}
.banner.hide{display:none}
.banner-x{background:none;border:none;color:rgba(255,255,255,.3);cursor:pointer;font-size:1rem;margin-left:.5rem}

/* SPINNER */
.spinner{display:none;position:fixed;inset:0;background:rgba(10,10,10,.8);z-index:9200;flex-direction:column;align-items:center;justify-content:center;gap:1rem}
.spinner.on{display:flex}
.spin-ring{width:52px;height:52px;border:3px solid rgba(0,229,255,.15);border-top-color:var(--neon);border-radius:50%;animation:rot .8s linear infinite}
@keyframes rot{to{transform:rotate(360deg)}}
.spin-lbl{font-family:'Rajdhani',sans-serif;font-size:.85rem;color:var(--neon);letter-spacing:3px}

/* HEADER */
header{position:sticky;top:0;z-index:1000;background:rgba(10,10,10,.93);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.nav-top{display:flex;align-items:center;justify-content:space-between;padding:.75rem 2rem;gap:.5rem;flex-wrap:wrap}
.logo{display:flex;align-items:center;gap:.75rem;text-decoration:none}
.logo svg{width:50px;height:50px;flex-shrink:0}
.logo-main{font-family:'Orbitron',sans-serif;font-size:1.05rem;font-weight:900;color:var(--neon);letter-spacing:1px;text-shadow:0 0 18px rgba(0,229,255,.5);line-height:1.1}
.logo-sub{font-family:'Rajdhani',sans-serif;font-size:.63rem;font-weight:600;color:var(--green);letter-spacing:3px;text-transform:uppercase}
.nav-right{display:flex;align-items:center;gap:.7rem;flex-wrap:wrap}
.btn-yt{display:flex;align-items:center;gap:.45rem;background:linear-gradient(135deg,var(--pink),var(--purple));color:#fff;padding:.48rem 1.1rem;border-radius:30px;text-decoration:none;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.83rem;box-shadow:0 0 18px rgba(255,0,119,.35);transition:all .3s}
.btn-yt:hover{transform:translateY(-2px);box-shadow:0 0 32px rgba(255,0,119,.65)}
.btn-admin{background:transparent;border:1px solid var(--green);color:var(--green);padding:.48rem .95rem;border-radius:6px;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.78rem;letter-spacing:1px;transition:all .3s}
.btn-admin:hover{background:var(--green);color:#000}
.btn-supa{background:transparent;border:1px solid #3ecf8e;color:#3ecf8e;padding:.48rem .95rem;border-radius:6px;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.78rem;letter-spacing:1px;transition:all .3s;display:flex;align-items:center;gap:.35rem}
.btn-supa:hover{background:#3ecf8e;color:#000}
.btn-supa.connected{border-color:#00FF6A;color:#00FF6A}
.btn-supa.connected:hover{background:#00FF6A;color:#000}

/* SUPABASE STANDALONE MODAL */
.sb-ov{position:fixed;inset:0;background:rgba(0,0,0,.92);z-index:7000;display:none;align-items:center;justify-content:center;padding:1rem}
.sb-ov.on{display:flex}
.sb-modal{background:#0a001e;border:1px solid #3ecf8e;border-radius:16px;padding:2rem;width:100%;max-width:560px;max-height:90vh;overflow-y:auto;box-shadow:0 0 60px rgba(62,207,142,.25);animation:drop .28s ease}
.sb-modal-hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.4rem}
.sb-modal-ttl{font-family:'Orbitron',sans-serif;font-size:1rem;color:#3ecf8e;letter-spacing:2px}
.sb-modal-x{background:rgba(255,255,255,.08);border:none;color:#fff;width:32px;height:32px;border-radius:6px;cursor:pointer;font-size:1rem}
.sb-modal-x:hover{background:var(--pink)}
.sb-steps{background:rgba(62,207,142,.05);border:1px solid rgba(62,207,142,.2);border-radius:10px;padding:1.1rem;margin-bottom:1.3rem;font-family:'Rajdhani',sans-serif;font-size:.83rem;color:rgba(234,234,234,.78);line-height:2.1}
.sb-steps a{color:var(--neon)}
.sb-steps code{background:rgba(255,255,255,.1);padding:.1rem .38rem;border-radius:3px;font-size:.78rem;color:#ffb347}
.sb-sql-box{background:rgba(0,0,0,.5);border:1px solid rgba(0,229,255,.18);border-radius:8px;padding:.9rem;margin-bottom:1.2rem}
.sb-sql-lbl{font-family:'Rajdhani',sans-serif;font-size:.7rem;color:var(--green);letter-spacing:2px;margin-bottom:.5rem;text-transform:uppercase}
.sb-sql-box pre{font-family:monospace;font-size:.72rem;color:#bbb;overflow-x:auto;line-height:1.65;white-space:pre-wrap;max-height:160px;overflow-y:auto}
.copy-sql-btn{margin-top:.5rem;background:transparent;border:1px solid var(--neon);color:var(--neon);padding:.25rem .7rem;border-radius:4px;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.7rem}
.copy-sql-btn:hover{background:var(--neon);color:#000}
.nav-scroll{overflow-x:auto;scrollbar-width:none;padding:.4rem 2rem;border-top:1px solid rgba(255,255,255,.05)}
.nav-scroll::-webkit-scrollbar{display:none}
.nav-links{display:flex;gap:.25rem;width:max-content}
.nav-links a{text-decoration:none;color:rgba(234,234,234,.62);font-family:'Rajdhani',sans-serif;font-weight:600;font-size:.76rem;padding:.28rem .7rem;border-radius:4px;white-space:nowrap;transition:all .2s;text-transform:uppercase}
.nav-links a:hover{color:var(--neon);background:rgba(0,229,255,.08)}

/* HERO */
.hero{position:relative;z-index:1;min-height:80vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:4rem 2rem;overflow:hidden}
.g1{position:absolute;width:680px;height:680px;background:radial-gradient(circle,rgba(138,43,226,.2)0%,transparent 70%);left:50%;top:50%;transform:translate(-50%,-50%);pointer-events:none}
.g2{position:absolute;width:380px;height:380px;background:radial-gradient(circle,rgba(0,229,255,.12)0%,transparent 70%);right:8%;top:18%;pointer-events:none;animation:pulse 4s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:.45;transform:scale(1)}50%{opacity:1;transform:scale(1.1)}}
.hero-inner{position:relative;z-index:2}
.hero-badge{display:inline-block;background:rgba(0,229,255,.08);border:1px solid var(--neon);color:var(--neon);padding:.3rem 1rem;border-radius:30px;font-family:'Rajdhani',sans-serif;font-size:.73rem;font-weight:700;letter-spacing:3px;text-transform:uppercase;margin-bottom:1.5rem;animation:gb 2s ease-in-out infinite}
@keyframes gb{0%,100%{box-shadow:0 0 8px rgba(0,229,255,.28)}50%{box-shadow:0 0 22px rgba(0,229,255,.65)}}
.hero h1{font-family:'Orbitron',sans-serif;font-size:clamp(2rem,5vw,3.8rem);font-weight:900;color:var(--neon);text-shadow:0 0 35px rgba(0,229,255,.32);line-height:1.1;margin-bottom:1rem}
.hero h1 span{color:var(--green);text-shadow:0 0 28px rgba(0,255,106,.32)}
.hero-sub{font-family:'Rajdhani',sans-serif;font-size:1.15rem;color:rgba(234,234,234,.78);margin-bottom:2.5rem;letter-spacing:1px}
.btn-sub{display:inline-flex;align-items:center;gap:.6rem;background:linear-gradient(135deg,var(--purple),var(--pink));color:#fff;padding:.88rem 2.4rem;border-radius:50px;text-decoration:none;font-family:'Orbitron',sans-serif;font-weight:700;font-size:.88rem;box-shadow:0 0 38px rgba(138,43,226,.42);transition:all .3s;letter-spacing:1px}
.btn-sub:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 0 55px rgba(255,0,119,.62)}
.hero-stats{display:flex;gap:3rem;justify-content:center;margin-top:3rem;flex-wrap:wrap}
.stat{text-align:center}
.stat-n{font-family:'Orbitron',sans-serif;font-size:1.8rem;font-weight:900;color:var(--green);text-shadow:0 0 18px rgba(0,255,106,.48)}
.stat-l{font-family:'Rajdhani',sans-serif;font-size:.68rem;color:rgba(234,234,234,.42);letter-spacing:2px;text-transform:uppercase}

/* SECTIONS */
section{position:relative;z-index:1;padding:4rem 2rem;max-width:1400px;margin:0 auto}
.sec-lbl{font-family:'Rajdhani',sans-serif;font-size:.68rem;font-weight:700;color:var(--green);letter-spacing:4px;text-transform:uppercase;margin-bottom:.4rem}
.sec-ttl{font-family:'Orbitron',sans-serif;font-size:clamp(1.3rem,3vw,1.9rem);font-weight:700;color:var(--neon);margin-bottom:2.5rem}
.neon-sep{height:1px;background:linear-gradient(90deg,transparent,var(--purple),var(--neon),var(--green),transparent);opacity:.32}

/* POST CARDS */
.cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(290px,1fr));gap:1.4rem}
.post-card{background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;transition:all .3s;text-decoration:none;color:inherit;display:block}
.post-card:hover{transform:translateY(-5px);border-color:var(--neon);box-shadow:0 10px 38px rgba(0,229,255,.14)}
.card-top{position:relative;height:178px;overflow:hidden;background:linear-gradient(135deg,#1a0030,#0a1530);display:flex;align-items:center;justify-content:center;font-size:2.8rem}
.card-top img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.card-tag{position:absolute;top:9px;left:9px;background:var(--purple);color:#fff;font-family:'Rajdhani',sans-serif;font-size:.6rem;font-weight:700;letter-spacing:2px;padding:.2rem .55rem;border-radius:4px;text-transform:uppercase;z-index:1}
.card-body{padding:1.15rem}
.card-title{font-family:'Rajdhani',sans-serif;font-size:.97rem;font-weight:700;color:var(--white);margin-bottom:.38rem;line-height:1.3}
.card-desc{font-size:.79rem;color:rgba(234,234,234,.58);line-height:1.5;margin-bottom:.75rem}
.card-meta{display:flex;justify-content:space-between;font-family:'Rajdhani',sans-serif;font-size:.68rem;color:var(--green);letter-spacing:1px}

/* CATEGORIES */
.cats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(172px,1fr));gap:.9rem}
.cat-btn{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:1.1rem 1rem;text-align:center;transition:all .3s;text-decoration:none;color:var(--white);display:block}
.cat-btn:hover{transform:translateY(-4px);border-color:var(--green);box-shadow:0 8px 28px rgba(0,255,106,.16)}
.cat-ico{font-size:1.75rem;display:block;margin-bottom:.45rem}
.cat-nm{font-family:'Rajdhani',sans-serif;font-size:.76rem;font-weight:700;color:var(--neon);letter-spacing:.5px;text-transform:uppercase}

/* VIDEO */
.vid-wrap{background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;display:grid;grid-template-columns:1fr 1fr}
@media(max-width:700px){.vid-wrap{grid-template-columns:1fr}}
.vid-frame{background:#000;min-height:270px}
.vid-frame iframe{width:100%;height:100%;min-height:270px;border:none;display:block}
.vid-info{padding:2rem;display:flex;flex-direction:column;justify-content:center}
.vid-tag{display:inline-block;background:var(--pink);color:#fff;font-family:'Rajdhani',sans-serif;font-size:.6rem;font-weight:700;letter-spacing:2px;padding:.18rem .55rem;border-radius:4px;margin-bottom:1rem;text-transform:uppercase}
.vid-title{font-family:'Orbitron',sans-serif;font-size:1.05rem;font-weight:700;color:var(--neon);margin-bottom:.9rem;line-height:1.4}
.vid-desc{color:rgba(234,234,234,.62);font-size:.82rem;line-height:1.6}

/* SQUAD */
.squad-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(245px,1fr));gap:1.1rem}
.squad-card{background:var(--card);border:1px solid var(--border);border-radius:10px;overflow:hidden;transition:all .3s}
.squad-card:hover{border-color:var(--pink);box-shadow:0 8px 28px rgba(255,0,119,.14)}
.sq-img{width:100%;height:148px;overflow:hidden;background:linear-gradient(135deg,#200040,#001030);display:flex;align-items:center;justify-content:center;font-size:2.4rem;position:relative}
.sq-img img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.sq-body{padding:.95rem}
.sq-title{font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.92rem;color:var(--white);margin-bottom:.28rem}
.sq-author{font-size:.7rem;color:rgba(234,234,234,.42);font-family:'Rajdhani',sans-serif;margin-bottom:.45rem}
.sq-desc{font-size:.76rem;color:rgba(234,234,234,.58);margin-bottom:.75rem;line-height:1.4}
.uprow{display:flex;align-items:center;gap:.75rem}
.up-btn{background:transparent;border:1px solid var(--green);color:var(--green);padding:.28rem .75rem;border-radius:4px;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.73rem;transition:all .2s}
.up-btn:hover,.up-btn.voted{background:var(--green);color:#000}
.up-ct{font-family:'Orbitron',sans-serif;font-size:.78rem;color:var(--green)}
.com-hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.8rem;flex-wrap:wrap;gap:.8rem}
.btn-upload{background:linear-gradient(135deg,var(--purple),var(--neon));color:#fff;padding:.65rem 1.4rem;border-radius:8px;border:none;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.87rem;letter-spacing:1px;transition:all .3s}
.btn-upload:hover{transform:translateY(-2px);box-shadow:0 8px 22px rgba(138,43,226,.45)}

/* FOOTER */
footer{position:relative;z-index:1;background:rgba(0,0,0,.65);border-top:1px solid var(--border);padding:3rem 2rem 2rem;margin-top:4rem}
.foot-grid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:3rem;max-width:1400px;margin:0 auto 2rem}
@media(max-width:700px){.foot-grid{grid-template-columns:1fr}}
.foot-p{color:rgba(234,234,234,.58);font-size:.83rem;line-height:1.6;margin-top:.7rem}
.foot-h{font-family:'Orbitron',sans-serif;font-size:.76rem;color:var(--green);margin-bottom:.9rem;letter-spacing:2px}
.foot-ul{list-style:none;display:flex;flex-direction:column;gap:.45rem}
.foot-ul a{color:rgba(234,234,234,.58);text-decoration:none;font-size:.8rem;transition:color .2s;font-family:'Rajdhani',sans-serif}
.foot-ul a:hover{color:var(--neon)}
.foot-copy{text-align:center;padding-top:1.4rem;border-top:1px solid rgba(255,255,255,.05);color:rgba(234,234,234,.32);font-size:.73rem;font-family:'Rajdhani',sans-serif;max-width:1400px;margin:0 auto}

/* PASSWORD MODAL */
.pw-ov{position:fixed;inset:0;background:rgba(0,0,0,.92);z-index:6000;display:none;align-items:center;justify-content:center}
.pw-ov.on{display:flex}
.pw-box{background:#0d0020;border:1px solid var(--purple);border-radius:16px;padding:2.4rem 1.9rem;width:355px;max-width:92vw;text-align:center;box-shadow:0 0 55px rgba(138,43,226,.48);animation:drop .28s ease}
@keyframes drop{from{transform:translateY(-26px);opacity:0}to{transform:translateY(0);opacity:1}}
.pw-ico{font-size:2.4rem;margin-bottom:.7rem}
.pw-ttl{font-family:'Orbitron',sans-serif;font-size:.95rem;color:var(--neon);margin-bottom:.35rem;letter-spacing:2px}
.pw-sub{font-family:'Rajdhani',sans-serif;font-size:.78rem;color:rgba(234,234,234,.42);margin-bottom:1.4rem;letter-spacing:1px}
.pw-row{position:relative;margin-bottom:1.1rem}
.pw-in{width:100%;background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:8px;padding:.72rem 2.7rem .72rem 1rem;color:var(--white);font-family:'Exo 2',sans-serif;font-size:.98rem;outline:none;letter-spacing:3px;text-align:center;transition:border-color .2s}
.pw-in:focus{border-color:var(--purple);box-shadow:0 0 12px rgba(138,43,226,.22)}
.pw-in.shake{border-color:var(--pink);animation:shake .3s}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-7px)}75%{transform:translateX(7px)}}
.pw-eye{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;color:rgba(234,234,234,.42);cursor:pointer;font-size:.95rem}
.pw-err{font-family:'Rajdhani',sans-serif;font-size:.78rem;color:var(--pink);margin-bottom:.9rem;min-height:1rem;letter-spacing:.5px}
.pw-go{width:100%;background:linear-gradient(135deg,var(--purple),var(--pink));color:#fff;border:none;padding:.82rem;border-radius:8px;cursor:pointer;font-family:'Orbitron',sans-serif;font-weight:700;font-size:.82rem;letter-spacing:2px;transition:all .3s;margin-bottom:.9rem}
.pw-go:hover{box-shadow:0 8px 22px rgba(138,43,226,.52);transform:translateY(-2px)}
.pw-cancel{background:none;border:none;color:rgba(234,234,234,.32);cursor:pointer;font-family:'Rajdhani',sans-serif;font-size:.77rem}
.pw-cancel:hover{color:var(--white)}
.pw-att{margin-top:.7rem;font-family:'Rajdhani',sans-serif;font-size:.68rem;color:rgba(234,234,234,.25);letter-spacing:1px}

/* ADMIN PANEL */
.adm-ov{position:fixed;inset:0;background:rgba(0,0,0,.86);z-index:5000;display:none;overflow-y:auto}
.adm-ov.on{display:block}
.adm-panel{background:#0d0020;border:1px solid var(--purple);border-radius:14px;max-width:900px;margin:2rem auto;overflow:hidden;box-shadow:0 0 55px rgba(138,43,226,.38)}
@media(max-width:600px){.adm-panel{margin:.5rem;border-radius:10px}}
.adm-hdr{background:linear-gradient(135deg,var(--purple),#3a00a5);padding:1.4rem 2rem;display:flex;justify-content:space-between;align-items:center}
.adm-hdr h2{font-family:'Orbitron',sans-serif;font-size:1.05rem;color:#fff;letter-spacing:2px}
.adm-x{background:rgba(255,255,255,.1);border:none;color:#fff;width:34px;height:34px;border-radius:7px;cursor:pointer;font-size:1rem;transition:background .2s}
.adm-x:hover{background:var(--pink)}
.adm-body{padding:1.8rem}

/* TABS ‚Äî fully scrollable, never wraps */
.adm-tabs{
  display:flex;
  gap:.4rem;
  flex-wrap:nowrap;
  overflow-x:auto;
  scrollbar-width:thin;
  scrollbar-color:var(--purple) transparent;
  margin-bottom:1.8rem;
  border-bottom:1px solid var(--border);
  padding-bottom:.9rem;
  -webkit-overflow-scrolling:touch;
}
.adm-tabs::-webkit-scrollbar{height:3px}
.adm-tabs::-webkit-scrollbar-track{background:transparent}
.adm-tabs::-webkit-scrollbar-thumb{background:var(--purple);border-radius:2px}
.adm-tab{
  background:transparent;
  border:1px solid var(--border);
  color:rgba(234,234,234,.52);
  padding:.38rem .82rem;
  border-radius:6px;
  cursor:pointer;
  font-family:'Rajdhani',sans-serif;
  font-weight:600;
  font-size:.73rem;
  letter-spacing:.5px;
  transition:all .2s;
  text-transform:uppercase;
  white-space:nowrap;
  flex-shrink:0;
}
.adm-tab.on,.adm-tab:hover{background:var(--purple);border-color:var(--purple);color:#fff}
.tab{display:none}.tab.on{display:block}

/* FORM */
.fg{margin-bottom:1.1rem}
.fg label{display:block;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.76rem;color:var(--neon);letter-spacing:1px;text-transform:uppercase;margin-bottom:.35rem}
.fg input,.fg textarea,.fg select{width:100%;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:8px;padding:.65rem .95rem;color:var(--white);font-family:'Exo 2',sans-serif;font-size:.86rem;outline:none;transition:border-color .2s}
.fg input:focus,.fg textarea:focus,.fg select:focus{border-color:var(--purple);box-shadow:0 0 10px rgba(138,43,226,.18)}
.fg textarea{resize:vertical;min-height:86px}
.fg select option{background:#0d0020}
.fg2{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
@media(max-width:540px){.fg2{grid-template-columns:1fr}}

/* IMAGE UPLOAD */
.img-drop{border:2px dashed rgba(0,229,255,.22);border-radius:10px;padding:1.4rem;text-align:center;cursor:pointer;transition:all .3s;position:relative;background:rgba(0,229,255,.015)}
.img-drop:hover,.img-drop.drag{border-color:var(--purple);background:rgba(138,43,226,.055)}
.img-drop input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%}
.up-ico{font-size:1.9rem;display:block;margin-bottom:.45rem}
.up-txt{font-family:'Rajdhani',sans-serif;font-size:.82rem;color:rgba(234,234,234,.52)}
.up-txt b{color:var(--neon)}
.prog-wrap{margin-top:.7rem;height:4px;background:rgba(255,255,255,.08);border-radius:2px;overflow:hidden;display:none}
.prog-wrap.on{display:block}
.prog-bar{height:100%;background:linear-gradient(90deg,var(--purple),var(--neon));width:0%;transition:width .22s;border-radius:2px}
.prev-box{margin-top:.9rem;border-radius:8px;overflow:hidden;display:none;position:relative}
.prev-box img{width:100%;height:190px;object-fit:cover;display:block}
.prev-box.on{display:block}
.rm-btn{position:absolute;top:7px;right:7px;background:rgba(0,0,0,.75);border:1px solid var(--pink);color:var(--pink);border-radius:5px;padding:.18rem .5rem;cursor:pointer;font-size:.68rem;font-family:'Rajdhani',sans-serif;font-weight:700}

/* INFO / WARN BOXES */
.info-box{background:rgba(0,229,255,.04);border:1px solid rgba(0,229,255,.16);border-radius:8px;padding:.75rem .95rem;margin-bottom:1.4rem;font-family:'Rajdhani',sans-serif;font-size:.78rem;color:rgba(234,234,234,.58);line-height:1.6}
.info-box b{color:var(--neon)}
.warn-box{background:rgba(0,180,100,.06);border:1px solid rgba(0,229,100,.25);border-radius:10px;padding:1.4rem;margin-bottom:1.4rem}
.warn-ttl{font-family:'Orbitron',sans-serif;font-size:.82rem;color:#00FF6A;margin-bottom:.9rem;letter-spacing:1px}
.warn-steps{font-family:'Rajdhani',sans-serif;font-size:.84rem;color:rgba(234,234,234,.78);line-height:2.2}
.warn-steps a{color:var(--neon)}
.warn-steps code{background:rgba(255,255,255,.1);padding:.1rem .38rem;border-radius:3px;font-size:.8rem;color:#ffb347}

.btn-save{background:linear-gradient(135deg,var(--purple),var(--pink));color:#fff;border:none;padding:.75rem 1.9rem;border-radius:8px;cursor:pointer;font-family:'Orbitron',sans-serif;font-weight:700;font-size:.78rem;letter-spacing:1px;transition:all .3s;margin-top:.4rem}
.btn-save:hover{transform:translateY(-2px);box-shadow:0 8px 22px rgba(138,43,226,.45)}
.btn-save:disabled{opacity:.42;cursor:not-allowed;transform:none}

/* MANAGE LIST */
.m-item{display:flex;align-items:center;gap:.9rem;padding:.72rem .95rem;background:rgba(255,255,255,.025);border:1px solid var(--border);border-radius:8px;margin-bottom:.55rem;transition:border-color .2s}
.m-item:hover{border-color:rgba(0,229,255,.32)}
.m-thumb{width:48px;height:38px;border-radius:4px;background:linear-gradient(135deg,#200040,#001030);display:flex;align-items:center;justify-content:center;font-size:1.15rem;flex-shrink:0;overflow:hidden}
.m-thumb img{width:100%;height:100%;object-fit:cover}
.m-info{flex:1;min-width:0}
.m-ttl{font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.82rem;color:var(--white);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.m-cat{font-size:.66rem;color:var(--green);font-family:'Rajdhani',sans-serif;letter-spacing:1px}
.btn-del{background:transparent;border:1px solid var(--pink);color:var(--pink);padding:.22rem .55rem;border-radius:4px;cursor:pointer;font-size:.68rem;font-family:'Rajdhani',sans-serif;font-weight:700;flex-shrink:0;transition:all .2s}
.btn-del:hover{background:var(--pink);color:#fff}

/* STATUS BOX */
.sb-box{margin-top:.9rem;padding:1rem;border-radius:8px;font-family:'Rajdhani',sans-serif;font-size:.83rem;display:none;line-height:1.5}
.sb-box.ok{display:block;background:rgba(0,255,106,.07);border:1px solid rgba(0,255,106,.28);color:var(--green)}
.sb-box.err{display:block;background:rgba(255,0,119,.07);border:1px solid rgba(255,0,119,.28);color:var(--pink)}
.sb-box.info{display:block;background:rgba(0,229,255,.06);border:1px solid rgba(0,229,255,.22);color:var(--neon)}

/* TOAST */
.toast{position:fixed;bottom:1.8rem;right:1.8rem;padding:.8rem 1.4rem;border-radius:8px;font-family:'Orbitron',sans-serif;font-size:.76rem;font-weight:700;z-index:9999;transform:translateY(110px);opacity:0;transition:all .38s;max-width:320px;line-height:1.4;pointer-events:none}
.toast.on{transform:translateY(0);opacity:1}
.toast.ok{background:var(--green);color:#000}
.toast.err{background:var(--pink);color:#fff}
.toast.warn{background:#ff9500;color:#000}

/* EMPTY */
.empty{text-align:center;padding:2.8rem;color:rgba(234,234,234,.32);font-family:'Rajdhani',sans-serif;font-size:.87rem;letter-spacing:1px}
.empty-ico{font-size:2.8rem;margin-bottom:.9rem}

@media(max-width:560px){.hero-stats{gap:1.4rem}.stat-n{font-size:1.4rem}}
</style>
</head>
<body>

<!-- BANNER -->
<div class="banner" id="banner">
  ‚ö†Ô∏è <strong>Supabase not connected</strong> ‚Äî posts only save on this device until you connect.
  <a onclick="openAdmin('supabase')">Connect Supabase (free, 3 min) ‚Üí</a>
  <button class="banner-x" onclick="this.parentElement.classList.add('hide')">‚úï</button>
</div>

<!-- SPINNER -->
<div class="spinner" id="spinner">
  <div class="spin-ring"></div>
  <div class="spin-lbl" id="spinLbl">UPLOADING...</div>
</div>

<!-- HEADER -->
<header>
  <div class="nav-top">
    <a href="#home" class="logo">
      <svg viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="ga" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#00E5FF"/><stop offset="100%" stop-color="#8A2BE2"/></linearGradient>
          <linearGradient id="gb" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#00FF6A"/><stop offset="100%" stop-color="#00E5FF"/></linearGradient>
          <filter id="gf"><feGaussianBlur stdDeviation="1.5" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
        </defs>
        <path d="M26 3L46 12L46 28C46 38 36 46 26 49C16 46 6 38 6 28L6 12Z" fill="url(#ga)" opacity=".14" stroke="url(#ga)" stroke-width="1.5"/>
        <path d="M26 8L42 16L42 28C42 36 34 43 26 46C18 43 10 36 10 28L10 16Z" fill="none" stroke="url(#gb)" stroke-width=".8" opacity=".52"/>
        <text x="26" y="33" text-anchor="middle" font-family="Orbitron,sans-serif" font-size="18" font-weight="900" fill="url(#ga)" filter="url(#gf)">Y</text>
        <circle cx="6" cy="12" r="2" fill="#00E5FF" opacity=".78"/>
        <circle cx="46" cy="12" r="2" fill="#8A2BE2" opacity=".78"/>
        <circle cx="26" cy="49" r="2" fill="#00FF6A" opacity=".78"/>
        <line x1="14" y1="2" x2="38" y2="2" stroke="url(#gb)" stroke-width="1.5" stroke-linecap="round"/>
      </svg>
      <div><div class="logo-main">YAMIN AHMED</div><div class="logo-sub">eFootball Vlog</div></div>
    </a>
    <div class="nav-right">
      <button class="btn-supa" id="supaBtn" onclick="openSupaModal()">üü¢ CONNECT DB</button>
      <button class="btn-admin" onclick="openAdmin()">‚öô ADMIN</button>
      <a href="https://www.youtube.com/@YaminOfficial-iq3wp" target="_blank" class="btn-yt">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor"><path d="M21.8 8s-.2-1.4-.8-2c-.8-.8-1.6-.8-2-.9C16.3 5 12 5 12 5s-4.3 0-7 .1c-.4.1-1.2.1-2 .9-.6.6-.8 2-.8 2S2 9.6 2 11.2v1.5c0 1.6.2 3.2.2 3.2s.2 1.4.8 2c.8.8 1.8.8 2.3.9C7 19 12 19 12 19s4.3 0 7-.2c.4-.1 1.2-.1 2-.9.6-.6.8-2 .8-2s.2-1.6.2-3.2v-1.5C22 9.6 21.8 8 21.8 8zM10 14.5v-5l5.5 2.5L10 14.5z"/></svg>
        Follow on YouTube
      </a>
    </div>
  </div>
  <nav class="nav-scroll">
    <div class="nav-links">
      <a href="#home">Home</a><a href="#updates">News &amp; Patch Notes</a><a href="#builds">Player Builds</a><a href="#meta">Meta Playbook</a><a href="#f2p">F2P Gems</a><a href="#reviews">Manager Reviews</a><a href="#skills">Skill Moves</a><a href="#defending">Defending</a><a href="#squads">Squad Showcases</a><a href="#form">Weekly Form</a><a href="#coins">Coin Farming</a><a href="#ai">AI Studio</a><a href="#compare">Comparison</a><a href="#formation">Formation Lab</a><a href="#mobile">Mobile vs Console</a><a href="#tournament">Tournament Hub</a><a href="#contact">Contact</a>
    </div>
  </nav>
</header>

<!-- HERO -->
<div class="hero" id="home">
  <div class="g1"></div><div class="g2"></div>
  <div class="hero-inner">
    <div class="hero-badge">‚ö° eFootball Community Hub</div>
    <h1>Welcome to<br><span>Yamin Ahmed</span> Vlog</h1>
    <p class="hero-sub">Your Home for eFootball Tips, News &amp; Meta Guides</p>
    <a href="https://www.youtube.com/@YaminOfficial-iq3wp" target="_blank" class="btn-sub">
      <svg width="17" height="17" viewBox="0 0 24 24" fill="currentColor"><path d="M21.8 8s-.2-1.4-.8-2c-.8-.8-1.6-.8-2-.9C16.3 5 12 5 12 5s-4.3 0-7 .1c-.4.1-1.2.1-2 .9-.6.6-.8 2-.8 2S2 9.6 2 11.2v1.5c0 1.6.2 3.2.2 3.2s.2 1.4.8 2c.8.8 1.8.8 2.3.9C7 19 12 19 12 19s4.3 0 7-.2c.4-.1 1.2-.1 2-.9.6-.6.8-2 .8-2s.2-1.6.2-3.2v-1.5C22 9.6 21.8 8 21.8 8zM10 14.5v-5l5.5 2.5L10 14.5z"/></svg>
      Subscribe on YouTube
    </a>
    <div class="hero-stats">
      <div class="stat"><div class="stat-n" id="postCt">0</div><div class="stat-l">Posts</div></div>
      <div class="stat"><div class="stat-n">17</div><div class="stat-l">Categories</div></div>
      <div class="stat"><div class="stat-n" id="squadCt">0</div><div class="stat-l">Showcases</div></div>
    </div>
  </div>
</div>
<div class="neon-sep"></div>

<!-- POSTS -->
<section id="updates">
  <div class="sec-lbl">üì° Feed</div><div class="sec-ttl">Latest Updates</div>
  <div class="cards-grid" id="postsGrid"><div class="empty" style="grid-column:1/-1"><div class="empty-ico">üì≠</div>Loading posts...</div></div>
</section>
<div class="neon-sep"></div>

<!-- CATEGORIES -->
<section>
  <div class="sec-lbl">üóÇÔ∏è Browse</div><div class="sec-ttl">Top Categories</div>
  <div class="cats-grid">
    <a href="#updates" class="cat-btn"><span class="cat-ico">üì∞</span><span class="cat-nm">News &amp; Patch Notes</span></a>
    <a href="#builds" class="cat-btn"><span class="cat-ico">‚ö°</span><span class="cat-nm">Player Build Guides</span></a>
    <a href="#meta" class="cat-btn"><span class="cat-ico">üìñ</span><span class="cat-nm">Meta Playbook</span></a>
    <a href="#f2p" class="cat-btn"><span class="cat-ico">üíé</span><span class="cat-nm">F2P Hidden Gems</span></a>
    <a href="#reviews" class="cat-btn"><span class="cat-ico">üß†</span><span class="cat-nm">Manager Reviews</span></a>
    <a href="#skills" class="cat-btn"><span class="cat-ico">üéØ</span><span class="cat-nm">Skill Move Tutorial</span></a>
    <a href="#defending" class="cat-btn"><span class="cat-ico">üõ°Ô∏è</span><span class="cat-nm">Defending Masterclass</span></a>
    <a href="#squads" class="cat-btn"><span class="cat-ico">üë•</span><span class="cat-nm">Squad Showcases</span></a>
    <a href="#form" class="cat-btn"><span class="cat-ico">üìà</span><span class="cat-nm">Weekly Form Updates</span></a>
    <a href="#coins" class="cat-btn"><span class="cat-ico">ü™ô</span><span class="cat-nm">Coin &amp; GP Farming</span></a>
    <a href="#ai" class="cat-btn"><span class="cat-ico">ü§ñ</span><span class="cat-nm">AI Creative Studio</span></a>
    <a href="#compare" class="cat-btn"><span class="cat-ico">‚öñÔ∏è</span><span class="cat-nm">Comparison Tool</span></a>
    <a href="#formation" class="cat-btn"><span class="cat-ico">üî¨</span><span class="cat-nm">Formation Laboratory</span></a>
    <a href="#mobile" class="cat-btn"><span class="cat-ico">üì±</span><span class="cat-nm">Mobile vs Console</span></a>
    <a href="#tournament" class="cat-btn"><span class="cat-ico">üèÜ</span><span class="cat-nm">Tournament Hub</span></a>
    <a href="#contact" class="cat-btn"><span class="cat-ico">üì¨</span><span class="cat-nm">Contact</span></a>
  </div>
</section>
<div class="neon-sep"></div>

<!-- FEATURED VIDEO -->
<section id="featured">
  <div class="sec-lbl">üé¨ Watch</div><div class="sec-ttl">Featured Video</div>
  <div class="vid-wrap">
    <div class="vid-frame"><iframe id="featFrame" src="about:blank" allowfullscreen loading="lazy"></iframe></div>
    <div class="vid-info">
      <span class="vid-tag">‚≠ê FEATURED</span>
      <div class="vid-title" id="featTitle">Subscribe for Latest eFootball Content</div>
      <p class="vid-desc" id="featDesc">Check out Yamin Ahmed's latest eFootball guides, meta tips, and squad builds. New content drops regularly!</p>
    </div>
  </div>
</section>
<div class="neon-sep"></div>

<!-- SQUAD SHOWCASES -->
<section id="squads">
  <div class="sec-lbl">üèüÔ∏è Community</div><div class="sec-ttl">Squad Showcases</div>
  <div class="com-hdr">
    <p style="color:rgba(234,234,234,.58);font-size:.84rem;font-family:'Rajdhani',sans-serif">Share your best squad builds with the community!</p>
    <button class="btn-upload" onclick="openAdmin('squad')">+ Upload Your Squad</button>
  </div>
  <div class="squad-grid" id="squadGrid"><div class="empty" style="grid-column:1/-1"><div class="empty-ico">‚öΩ</div>Loading squads...</div></div>
</section>
<div class="neon-sep"></div>

<!-- FOOTER -->
<footer id="contact">
  <div class="foot-grid">
    <div>
      <div style="display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem">
        <svg width="34" height="34" viewBox="0 0 52 52" fill="none"><path d="M26 3L46 12L46 28C46 38 36 46 26 49C16 46 6 38 6 28L6 12Z" fill="#8A2BE2" opacity=".22" stroke="#00E5FF" stroke-width="1.5"/><text x="26" y="33" text-anchor="middle" font-family="Orbitron" font-size="18" font-weight="900" fill="#00E5FF">Y</text></svg>
        <div><div style="font-family:'Orbitron',sans-serif;font-size:.86rem;color:#00E5FF;font-weight:700">YAMIN AHMED VLOG</div><div style="font-family:'Rajdhani',sans-serif;font-size:.61rem;color:#00FF6A;letter-spacing:2px">eFootball Community</div></div>
      </div>
      <p class="foot-p">Your #1 destination for eFootball tips, meta guides, squad builds, and the latest patch notes. Stay ahead of the competition.</p>
    </div>
    <div>
      <div class="foot-h">QUICK LINKS</div>
      <ul class="foot-ul"><li><a href="#">News &amp; Patch Notes</a></li><li><a href="#">Player Build Guides</a></li><li><a href="#">Meta Playbook</a></li><li><a href="#">Coin &amp; GP Farming</a></li><li><a href="#">Tournament Hub</a></li></ul>
    </div>
    <div>
      <div class="foot-h">FOLLOW ME</div>
      <ul class="foot-ul"><li><a href="https://www.youtube.com/@YaminOfficial-iq3wp" target="_blank">‚ñ∂ YouTube Channel</a></li><li><a href="#">üìß Contact Me</a></li></ul>
      <div style="margin-top:1.4rem"><a href="https://www.youtube.com/@YaminOfficial-iq3wp" target="_blank" class="btn-yt" style="display:inline-flex">Subscribe</a></div>
    </div>
  </div>
  <div class="foot-copy">¬© 2025 Yamin Ahmed Vlog. All Rights Reserved. Built with ‚ö° for the eFootball Community.</div>
</footer>

<!-- SUPABASE STANDALONE MODAL -->
<div class="sb-ov" id="sbOv">
  <div class="sb-modal">
    <div class="sb-modal-hdr">
      <div class="sb-modal-ttl">üü¢ CONNECT SUPABASE</div>
      <button class="sb-modal-x" onclick="closeSupaModal()">‚úï</button>
    </div>

    <div class="sb-steps">
      <b style="color:#3ecf8e">Step 1</b> ‚Üí Go to <a href="https://supabase.com" target="_blank">supabase.com</a> ‚Üí sign in with GitHub ‚Üí <b>New project</b> ‚Üí name it <code>yamin-vlog</code><br>
      <b style="color:#3ecf8e">Step 2</b> ‚Üí Go to <b>Settings ‚Üí API</b> ‚Üí copy <b>Project URL</b> and <b>anon public key</b><br>
      <b style="color:#3ecf8e">Step 3</b> ‚Üí Paste both below ‚Üí click <b>Save &amp; Connect</b><br>
      <b style="color:#3ecf8e">Step 4</b> ‚Üí In Supabase go to <b>SQL Editor ‚Üí New query</b> ‚Üí paste the SQL below ‚Üí click <b>Run</b><br>
      <b style="color:#3ecf8e">Step 5</b> ‚Üí Go to <b>Storage ‚Üí New bucket</b> ‚Üí name <code>images</code> ‚Üí tick <b>Public</b> ‚Üí Create<br>
      <b style="color:#00FF6A">‚úÖ Done!</b> Posts and images will show on every device in real time!
    </div>

    <div class="sb-sql-box">
      <div class="sb-sql-lbl">üìã Run this SQL in Supabase ‚Üí SQL Editor ‚Üí New Query</div>
      <pre id="sqlBlock">CREATE TABLE IF NOT EXISTS posts (
  id uuid DEFAULT gen_random_uuid() PRIMARY KEY,
  title text NOT NULL,
  category text,
  description text,
  link text,
  date text,
  image_url text,
  created_at timestamptz DEFAULT now()
);

CREATE TABLE IF NOT EXISTS squads (
  id uuid DEFAULT gen_random_uuid() PRIMARY KEY,
  title text NOT NULL,
  description text,
  author text,
  image_url text,
  votes integer DEFAULT 0,
  created_at timestamptz DEFAULT now()
);

ALTER TABLE posts  ENABLE ROW LEVEL SECURITY;
ALTER TABLE squads ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Public read posts"    ON posts  FOR SELECT USING (true);
CREATE POLICY "Public insert posts"  ON posts  FOR INSERT WITH CHECK (true);
CREATE POLICY "Public delete posts"  ON posts  FOR DELETE USING (true);
CREATE POLICY "Public read squads"   ON squads FOR SELECT USING (true);
CREATE POLICY "Public insert squads" ON squads FOR INSERT WITH CHECK (true);
CREATE POLICY "Public delete squads" ON squads FOR DELETE USING (true);
CREATE POLICY "Public update squads" ON squads FOR UPDATE USING (true);</pre>
      <button class="copy-sql-btn" onclick="copySQL()">üìã COPY SQL</button>
    </div>

    <div class="fg"><label>Supabase Project URL</label><input type="text" id="sbUrl2" placeholder="https://xxxxxxxxxxx.supabase.co"></div>
    <div class="fg"><label>Supabase Anon Public Key</label><input type="text" id="sbKey2" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."></div>
    <button class="btn-save" style="width:100%;margin-top:.2rem" onclick="saveSupaFromModal()">üü¢ SAVE &amp; CONNECT SUPABASE</button>
    <div class="sb-box" id="sbModalStatus" style="margin-top:.9rem"></div>
  </div>
</div>

<!-- PASSWORD MODAL -->
<div class="pw-ov" id="pwOv">
  <div class="pw-box">
    <div class="pw-ico">üîê</div>
    <div class="pw-ttl">ADMIN ACCESS</div>
    <div class="pw-sub">Enter your admin password</div>
    <div class="pw-row">
      <input class="pw-in" type="password" id="pwIn" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="20" onkeydown="if(event.key==='Enter')doPw()">
      <button class="pw-eye" onclick="toggleEye()" id="pwEye">üëÅ</button>
    </div>
    <div class="pw-err" id="pwErr"></div>
    <button class="pw-go" onclick="doPw()">UNLOCK ADMIN ‚ö°</button><br>
    <button class="pw-cancel" onclick="closePw()">‚úï Cancel</button>
    <div class="pw-att" id="pwAtt"></div>
  </div>
</div>

<!-- ADMIN PANEL -->
<div class="adm-ov" id="admOv">
  <div class="adm-panel">
    <div class="adm-hdr"><h2>‚öô ADMIN PANEL</h2><button class="adm-x" onclick="closeAdm()">‚úï</button></div>
    <div class="adm-body">

      <div class="adm-tabs">
        <button class="adm-tab on"  onclick="swTab('post')">üìù Add Post</button>
        <button class="adm-tab"     onclick="swTab('squad')">‚öΩ Add Squad</button>
        <button class="adm-tab"     onclick="swTab('video')">üé¨ Featured Video</button>
        <button class="adm-tab"     onclick="swTab('manage')">üóÇ Manage</button>
        <button class="adm-tab"     onclick="swTab('supabase')">üü¢ Supabase Setup</button>
      </div>

      <!-- ADD POST -->
      <div class="tab on" id="tab-post">
        <div class="info-box">üü¢ <b>Images upload to Supabase Storage</b> ‚Äî once Supabase is connected, photos appear on ALL devices instantly.</div>
        <div class="fg"><label>Category</label>
          <select id="pCat">
            <option>üì∞ News &amp; Patch Notes</option><option>‚ö° Player Build Guides</option><option>üìñ Meta Playbook</option><option>üíé F2P Hidden Gems</option><option>üß† Manager Reviews</option><option>üéØ Skill Move Tutorial</option><option>üõ°Ô∏è Defending Masterclass</option><option>üë• Squad Showcases</option><option>üìà Weekly Form Updates</option><option>ü™ô Coin &amp; GP Farming</option><option>ü§ñ AI Creative Studio</option><option>‚öñÔ∏è Comparison Tool</option><option>üî¨ Formation Laboratory</option><option>üì± Mobile vs. Console</option><option>üèÜ Tournament Hub</option>
          </select>
        </div>
        <div class="fg"><label>Post Title</label><input type="text" id="pTitle" placeholder="e.g. Best Meta Formation for Patch 4.5.0"></div>
        <div class="fg"><label>Description / Summary</label><textarea id="pDesc" placeholder="Write a short summary of this post..."></textarea></div>
        <div class="fg2">
          <div class="fg"><label>Link (optional)</label><input type="url" id="pLink" placeholder="https://..."></div>
          <div class="fg"><label>Date</label><input type="date" id="pDate"></div>
        </div>
        <div class="fg">
          <label>üì∏ Post Image (JPEG/PNG)</label>
          <div class="img-drop" id="pDrop" ondragover="event.preventDefault();this.classList.add('drag')" ondragleave="this.classList.remove('drag')" ondrop="dropImg(event,'p')">
            <input type="file" id="pFile" accept="image/jpeg,image/png,image/webp,image/gif" onchange="pickImg(this,'p')">
            <span class="up-ico">üñºÔ∏è</span>
            <div class="up-txt">Drag &amp; drop or <b>click to browse</b><br><small style="opacity:.45">JPEG ¬∑ PNG ¬∑ WebP ¬∑ Max 5MB</small></div>
            <div class="prog-wrap" id="pProg"><div class="prog-bar" id="pBar"></div></div>
          </div>
          <div class="prev-box" id="pPrev"><img id="pPrevImg" src="" alt=""><button class="rm-btn" onclick="rmImg('p')">‚úï Remove</button></div>
        </div>
        <button class="btn-save" id="pBtn" onclick="addPost()">‚úö PUBLISH POST</button>
      </div>

      <!-- ADD SQUAD -->
      <div class="tab" id="tab-squad">
        <div class="info-box">üü¢ <b>Squad screenshots upload to Supabase Storage</b> ‚Äî visible on every device worldwide.</div>
        <div class="fg"><label>Squad Name / Title</label><input type="text" id="sTitle" placeholder="e.g. Insane F2P La Liga Squad ‚Äì 4-3-3"></div>
        <div class="fg"><label>Description</label><textarea id="sDesc" placeholder="Formation, key players, strategy..."></textarea></div>
        <div class="fg"><label>Submitted By</label><input type="text" id="sAuthor" placeholder="Your name / username"></div>
        <div class="fg">
          <label>üì∏ Squad Screenshot</label>
          <div class="img-drop" id="sDrop" ondragover="event.preventDefault();this.classList.add('drag')" ondragleave="this.classList.remove('drag')" ondrop="dropImg(event,'s')">
            <input type="file" id="sFile" accept="image/jpeg,image/png,image/webp" onchange="pickImg(this,'s')">
            <span class="up-ico">üì∏</span>
            <div class="up-txt">Upload your squad screenshot ‚Äî <b>click to browse</b><br><small style="opacity:.45">JPEG ¬∑ PNG ¬∑ WebP ¬∑ Max 5MB</small></div>
            <div class="prog-wrap" id="sProg"><div class="prog-bar" id="sBar"></div></div>
          </div>
          <div class="prev-box" id="sPrev"><img id="sPrevImg" src="" alt=""><button class="rm-btn" onclick="rmImg('s')">‚úï Remove</button></div>
        </div>
        <button class="btn-save" id="sBtn" onclick="addSquad()">‚úö SUBMIT SQUAD</button>
      </div>

      <!-- FEATURED VIDEO -->
      <div class="tab" id="tab-video">
        <div class="fg"><label>YouTube Video ID or Full URL</label><input type="text" id="vUrl" placeholder="e.g. dQw4w9WgXcQ or full YouTube URL"></div>
        <div class="fg"><label>Video Title</label><input type="text" id="vTitle" placeholder="e.g. Ultimate eFootball Meta Guide 2025"></div>
        <div class="fg"><label>Video Description</label><textarea id="vDesc" placeholder="What does this video cover?"></textarea></div>
        <button class="btn-save" onclick="setVideo()">‚úö SET FEATURED VIDEO</button>
      </div>

      <!-- MANAGE -->
      <div class="tab" id="tab-manage">
        <p style="font-family:'Rajdhani',sans-serif;font-size:.76rem;color:rgba(234,234,234,.42);margin-bottom:.9rem;letter-spacing:1px;text-transform:uppercase">All Posts</p>
        <div id="mPosts"><div class="empty"><div class="empty-ico">üì≠</div>Loading...</div></div>
        <p style="font-family:'Rajdhani',sans-serif;font-size:.76rem;color:rgba(234,234,234,.42);margin:1.8rem 0 .9rem;letter-spacing:1px;text-transform:uppercase">Squad Showcases</p>
        <div id="mSquads"><div class="empty"><div class="empty-ico">‚öΩ</div>Loading...</div></div>
      </div>

      <!-- SUPABASE SETUP -->
      <div class="tab" id="tab-supabase">
        <div class="warn-box">
          <div class="warn-ttl">üü¢ CONNECT SUPABASE ‚Äî FREE, ONLY 3 MINUTES</div>
          <div class="warn-steps">
            <b style="color:#00E5FF">Step 1</b> ‚Üí Go to <a href="https://supabase.com" target="_blank">supabase.com</a> ‚Üí click <b>Start your project</b> ‚Üí sign in with GitHub<br>
            <b style="color:#00E5FF">Step 2</b> ‚Üí Click <b>New project</b> ‚Üí name it <code>yamin-vlog</code> ‚Üí set a database password ‚Üí Create<br>
            <b style="color:#00E5FF">Step 3</b> ‚Üí In your project go to <b>Settings ‚Üí API</b> ‚Üí copy your <b>Project URL</b> and <b>anon public key</b><br>
            <b style="color:#00E5FF">Step 4</b> ‚Üí Paste both below and click <b>Save &amp; Connect</b><br>
            <b style="color:#00E5FF">Step 5</b> ‚Üí Go to <b>SQL Editor</b> in Supabase and run the SQL shown below to create the tables<br>
            <b style="color:#00E5FF">Step 6</b> ‚Üí Go to <b>Storage</b> ‚Üí New bucket ‚Üí name it <code>images</code> ‚Üí check <b>Public bucket</b> ‚Üí Create<br>
            <b style="color:#00FF6A">‚úÖ Done!</b> Posts and images now sync to every device in real time!
          </div>
        </div>

        <!-- SQL TO RUN -->
        <div style="background:rgba(0,0,0,.5);border:1px solid rgba(0,229,255,.2);border-radius:8px;padding:1rem;margin-bottom:1.4rem">
          <div style="font-family:'Rajdhani',sans-serif;font-size:.72rem;color:var(--green);letter-spacing:2px;margin-bottom:.6rem;text-transform:uppercase">üìã Run this SQL in Supabase ‚Üí SQL Editor ‚Üí New query</div>
          <pre style="font-family:monospace;font-size:.75rem;color:#ccc;overflow-x:auto;line-height:1.7;white-space:pre-wrap">CREATE TABLE IF NOT EXISTS posts (
  id uuid DEFAULT gen_random_uuid() PRIMARY KEY,
  title text NOT NULL,
  category text,
  description text,
  link text,
  date text,
  image_url text,
  created_at timestamptz DEFAULT now()
);

CREATE TABLE IF NOT EXISTS squads (
  id uuid DEFAULT gen_random_uuid() PRIMARY KEY,
  title text NOT NULL,
  description text,
  author text,
  image_url text,
  votes integer DEFAULT 0,
  created_at timestamptz DEFAULT now()
);

-- Allow public read + insert + delete
ALTER TABLE posts ENABLE ROW LEVEL SECURITY;
ALTER TABLE squads ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Public read posts"  ON posts  FOR SELECT USING (true);
CREATE POLICY "Public insert posts" ON posts FOR INSERT WITH CHECK (true);
CREATE POLICY "Public delete posts" ON posts FOR DELETE USING (true);
CREATE POLICY "Public read squads"  ON squads  FOR SELECT USING (true);
CREATE POLICY "Public insert squads" ON squads FOR INSERT WITH CHECK (true);
CREATE POLICY "Public delete squads" ON squads FOR DELETE USING (true);
CREATE POLICY "Public update squads" ON squads FOR UPDATE USING (true);</pre>
          <button onclick="copySQL()" style="margin-top:.6rem;background:transparent;border:1px solid var(--neon);color:var(--neon);padding:.28rem .8rem;border-radius:4px;cursor:pointer;font-family:'Rajdhani',sans-serif;font-weight:700;font-size:.72rem">üìã COPY SQL</button>
        </div>

        <div class="fg"><label>Supabase Project URL</label><input type="text" id="sbUrl" placeholder="https://xxxxxxxxxxx.supabase.co"></div>
        <div class="fg"><label>Supabase Anon Public Key</label><input type="text" id="sbKey" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."></div>
        <button class="btn-save" onclick="saveSupa()">üü¢ SAVE &amp; CONNECT SUPABASE</button>
        <div class="sb-box" id="sbStatusBox"></div>
      </div>

    </div>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
// ================================================================
//  YAMIN AHMED VLOG ‚Äî Supabase REST Backend
//  100% Vanilla JS ¬∑ No CDN needed ¬∑ Works on GitHub Pages
// ================================================================

var SB = {
  ready: false,
  url: '',   // https://xxxx.supabase.co
  key: '',   // anon public key
  // REST helpers
  headers: function() {
    return {
      'Content-Type': 'application/json',
      'apikey': this.key,
      'Authorization': 'Bearer ' + this.key,
      'Prefer': 'return=representation'
    };
  },
  rest: function(path) { return this.url + '/rest/v1/' + path; },
  storage: function(bucket, path) { return this.url + '/storage/v1/object/' + bucket + '/' + path; },
  storagePublic: function(bucket, path) { return this.url + '/storage/v1/object/public/' + bucket + '/' + path; }
};

// ‚îÄ‚îÄ Load saved config ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
(function() {
  var saved = localStorage.getItem('ymn_sb');
  if (saved) {
    try {
      var c = JSON.parse(saved);
      SB.url = c.url; SB.key = c.key; SB.ready = true;
      document.getElementById('banner').classList.add('hide');
    } catch(e) {}
  }
  loadData();
})();

// ================================================================
//  SUPABASE REST HELPERS
// ================================================================
function sbSelect(table, order) {
  var url = SB.rest(table + '?select=*&order=' + (order||'created_at.desc') + '&limit=100');
  return fetch(url, { headers: SB.headers() }).then(function(r) { return r.json(); });
}

function sbInsert(table, obj) {
  return fetch(SB.rest(table), {
    method: 'POST',
    headers: SB.headers(),
    body: JSON.stringify(obj)
  }).then(function(r) { return r.json(); });
}

function sbDelete(table, id) {
  return fetch(SB.rest(table + '?id=eq.' + id), {
    method: 'DELETE',
    headers: SB.headers()
  });
}

function sbUpdate(table, id, obj) {
  return fetch(SB.rest(table + '?id=eq.' + id), {
    method: 'PATCH',
    headers: SB.headers(),
    body: JSON.stringify(obj)
  });
}

// Upload file to Supabase Storage
function sbUpload(file, bucket, path, barId, progId) {
  return new Promise(function(resolve, reject) {
    if (!SB.ready) {
      // Offline fallback: store as base64
      var r = new FileReader();
      r.onload = function(e) { resolve(e.target.result); };
      r.onerror = reject;
      r.readAsDataURL(file);
      return;
    }
    if (progId) document.getElementById(progId).classList.add('on');
    var url = SB.storage(bucket, path);
    var xhr = new XMLHttpRequest();
    xhr.open('POST', url);
    xhr.setRequestHeader('apikey', SB.key);
    xhr.setRequestHeader('Authorization', 'Bearer ' + SB.key);
    xhr.setRequestHeader('Content-Type', file.type);
    xhr.setRequestHeader('x-upsert', 'true');
    if (barId) {
      xhr.upload.onprogress = function(e) {
        if (e.lengthComputable) document.getElementById(barId).style.width = (e.loaded/e.total*100) + '%';
      };
    }
    xhr.onload = function() {
      if (progId) document.getElementById(progId).classList.remove('on');
      if (barId) document.getElementById(barId).style.width = '0%';
      if (xhr.status === 200 || xhr.status === 201) {
        resolve(SB.storagePublic(bucket, path));
      } else {
        var msg = 'Storage upload failed (' + xhr.status + '). Make sure the "images" bucket exists and is set to Public.';
        try { var d = JSON.parse(xhr.responseText); if(d.message) msg = d.message; } catch(e){}
        reject(new Error(msg));
      }
    };
    xhr.onerror = function() {
      if (progId) document.getElementById(progId).classList.remove('on');
      reject(new Error('Network error during upload'));
    };
    xhr.send(file);
  });
}

// ================================================================
//  DATA LOADING
// ================================================================
function loadData() {
  if (SB.ready) {
    sbSelect('posts').then(renderPosts).catch(function() { renderPosts(localPosts()); });
    sbSelect('squads').then(renderSquads).catch(function() { renderSquads(localSquads()); });
    setInterval(function() {
      sbSelect('posts').then(renderPosts);
      sbSelect('squads').then(renderSquads);
    }, 15000);
  } else {
    renderPosts(localPosts());
    renderSquads(localSquads());
  }
}

function localPosts()  { try { return JSON.parse(localStorage.getItem('ymn_posts')||'[]'); } catch(e){ return []; } }
function localSquads() { try { return JSON.parse(localStorage.getItem('ymn_squads')||'[]'); } catch(e){ return []; } }

// ================================================================
//  PASSWORD
// ================================================================
var PASS = 'EFB2026', pwTries = 0, pwLock = false, pendTab = null;

function openAdmin(tab) {
  pendTab = tab || null;
  if (pwLock) { toast('‚õî Too many attempts. Wait 5 minutes.', 'err'); return; }
  document.getElementById('pwOv').classList.add('on');
  document.getElementById('pwIn').value = '';
  document.getElementById('pwErr').textContent = '';
  document.getElementById('pwAtt').textContent = '';
  document.body.style.overflow = 'hidden';
  setTimeout(function(){ document.getElementById('pwIn').focus(); }, 80);
}

function doPw() {
  var v = document.getElementById('pwIn').value;
  if (v === PASS) {
    pwTries = 0; closePw();
    document.getElementById('admOv').classList.add('on');
    document.body.style.overflow = 'hidden';
    if (pendTab) swTab(pendTab);
    if (pendTab === 'manage') loadManage();
    if (pendTab === 'supabase' && SB.ready) showSbConnected();
    // Pre-fill saved credentials
    if (SB.ready) {
      document.getElementById('sbUrl').value = SB.url;
      document.getElementById('sbKey').value = SB.key;
    }
  } else {
    pwTries++;
    var inp = document.getElementById('pwIn');
    inp.classList.add('shake');
    setTimeout(function(){ inp.classList.remove('shake'); }, 350);
    inp.value = '';
    if (pwTries >= 5) {
      pwLock = true;
      document.getElementById('pwErr').textContent = '‚õî Locked. Wait 5 minutes.';
      setTimeout(function(){ pwLock = false; pwTries = 0; }, 300000);
      closePw(); document.body.style.overflow = '';
    } else {
      var r = 5 - pwTries;
      document.getElementById('pwErr').textContent = '‚ùå Wrong password.';
      document.getElementById('pwAtt').textContent = r + ' attempt' + (r!==1?'s':'') + ' remaining';
    }
  }
}

function toggleEye() {
  var i = document.getElementById('pwIn'), b = document.getElementById('pwEye');
  i.type = i.type === 'password' ? 'text' : 'password';
  b.textContent = i.type === 'password' ? 'üëÅ' : 'üôà';
}

function closePw() {
  document.getElementById('pwOv').classList.remove('on');
  if (!document.getElementById('admOv').classList.contains('on')) document.body.style.overflow = '';
}
function closeAdm() {
  document.getElementById('admOv').classList.remove('on');
  document.body.style.overflow = '';
}

document.getElementById('pwOv').addEventListener('click', function(e){ if(e.target.id==='pwOv') closePw(); });
document.getElementById('admOv').addEventListener('click', function(e){ if(e.target.id==='admOv') closeAdm(); });
document.addEventListener('keydown', function(e){ if(e.key==='Escape'){ closePw(); closeAdm(); } });

function swTab(name) {
  var names = ['post','squad','video','manage','supabase'];
  document.querySelectorAll('.adm-tab').forEach(function(t,i){ t.classList.toggle('on', names[i]===name); });
  document.querySelectorAll('.tab').forEach(function(t){ t.classList.remove('on'); });
  document.getElementById('tab-'+name).classList.add('on');
  if (name === 'manage') loadManage();
  if (name === 'supabase' && SB.ready) showSbConnected();
}

function showSbConnected() {
  var b = document.getElementById('sbStatusBox');
  b.textContent = '‚úÖ Supabase is connected! Posts and images sync across every device in real time.';
  b.className = 'sb-box ok';
}

// ================================================================
//  IMAGE HANDLING
// ================================================================
var pendImgs = { p: null, s: null };

function pickImg(input, k) {
  var f = input.files[0];
  if (!f) return;
  if (f.size > 5*1024*1024) { toast('‚ùå Image too large. Max 5MB.', 'err'); return; }
  pendImgs[k] = f; previewFile(f, k);
}

function dropImg(ev, k) {
  ev.preventDefault();
  document.getElementById(k+'Drop').classList.remove('drag');
  var f = ev.dataTransfer.files[0];
  if (f && f.type.startsWith('image/')) { pendImgs[k]=f; previewFile(f,k); }
}

function previewFile(f, k) {
  var r = new FileReader();
  r.onload = function(e) {
    document.getElementById(k+'PrevImg').src = e.target.result;
    document.getElementById(k+'Prev').classList.add('on');
  };
  r.readAsDataURL(f);
}

function rmImg(k) {
  pendImgs[k] = null;
  document.getElementById(k+'Prev').classList.remove('on');
  document.getElementById(k+'PrevImg').src = '';
  document.getElementById(k+'File').value = '';
}

// ================================================================
//  ADD POST
// ================================================================
function addPost() {
  var title = document.getElementById('pTitle').value.trim();
  if (!title) { toast('‚ùå Enter a post title.', 'err'); return; }
  var btn = document.getElementById('pBtn');
  btn.disabled = true; btn.textContent = '‚è≥ Publishing...';
  showSpin('UPLOADING...');

  var slug = title.replace(/\W+/g,'_').toLowerCase().slice(0,28) + '_' + Date.now();
  var imgP = pendImgs.p ? sbUpload(pendImgs.p, 'images', 'posts/'+slug, 'pBar', 'pProg') : Promise.resolve(null);

  imgP.then(function(imageUrl) {
    var data = {
      title: title,
      category: document.getElementById('pCat').value,
      description: document.getElementById('pDesc').value.trim(),
      link: document.getElementById('pLink').value.trim(),
      date: document.getElementById('pDate').value,
      image_url: imageUrl || ''
    };
    if (SB.ready) {
      return sbInsert('posts', data).then(function(res) {
        if (res && res[0] && res[0].id) {
          toast('‚úÖ Post published! Visible on every device!', 'ok');
          sbSelect('posts').then(renderPosts);
        } else {
          toast('‚ö†Ô∏è Check Supabase tables/RLS policy.', 'warn');
        }
      });
    } else {
      var lp = localPosts();
      data.id = 'l'+Date.now(); data.created_at = new Date().toISOString();
      lp.unshift(data);
      localStorage.setItem('ymn_posts', JSON.stringify(lp));
      renderPosts(lp);
      toast('‚ö†Ô∏è Saved locally ‚Äî connect Supabase so it shows everywhere.', 'warn');
    }
  }).catch(function(e) {
    toast('‚ùå ' + e.message, 'err');
  }).finally(function() {
    hideSpin();
    btn.disabled = false; btn.textContent = '‚úö PUBLISH POST';
    document.getElementById('pTitle').value = '';
    document.getElementById('pDesc').value = '';
    document.getElementById('pLink').value = '';
    rmImg('p');
  });
}

// ================================================================
//  ADD SQUAD
// ================================================================
function addSquad() {
  var title = document.getElementById('sTitle').value.trim();
  if (!title) { toast('‚ùå Enter a squad title.', 'err'); return; }
  var btn = document.getElementById('sBtn');
  btn.disabled = true; btn.textContent = '‚è≥ Submitting...';
  showSpin('UPLOADING SQUAD...');

  var slug = title.replace(/\W+/g,'_').toLowerCase().slice(0,28) + '_' + Date.now();
  var imgP = pendImgs.s ? sbUpload(pendImgs.s, 'images', 'squads/'+slug, 'sBar', 'sProg') : Promise.resolve(null);

  imgP.then(function(imageUrl) {
    var data = {
      title: title,
      description: document.getElementById('sDesc').value.trim(),
      author: document.getElementById('sAuthor').value.trim(),
      image_url: imageUrl || '',
      votes: 0
    };
    if (SB.ready) {
      return sbInsert('squads', data).then(function(res) {
        if (res && res[0] && res[0].id) {
          toast('‚úÖ Squad submitted! Visible on every device!', 'ok');
          sbSelect('squads').then(renderSquads);
        } else {
          toast('‚ö†Ô∏è Check Supabase tables/RLS policy.', 'warn');
        }
      });
    } else {
      var ls = localSquads();
      data.id = 'l'+Date.now(); data.created_at = new Date().toISOString();
      ls.unshift(data);
      localStorage.setItem('ymn_squads', JSON.stringify(ls));
      renderSquads(ls);
      toast('‚ö†Ô∏è Saved locally ‚Äî connect Supabase so it shows everywhere.', 'warn');
    }
  }).catch(function(e) {
    toast('‚ùå ' + e.message, 'err');
  }).finally(function() {
    hideSpin();
    btn.disabled = false; btn.textContent = '‚úö SUBMIT SQUAD';
    document.getElementById('sTitle').value = '';
    document.getElementById('sDesc').value = '';
    document.getElementById('sAuthor').value = '';
    rmImg('s');
  });
}

// ================================================================
//  DELETE
// ================================================================
function delPost(id) {
  if (!confirm('Delete this post?')) return;
  if (SB.ready) {
    sbDelete('posts', id).then(function() {
      toast('üóëÔ∏è Post deleted.', 'ok');
      sbSelect('posts').then(renderPosts);
      loadManage();
    });
  } else {
    var lp = localPosts().filter(function(p){ return p.id!==id; });
    localStorage.setItem('ymn_posts', JSON.stringify(lp));
    renderPosts(lp); loadManage(); toast('üóëÔ∏è Deleted.', 'ok');
  }
}

function delSquad(id) {
  if (!confirm('Delete this squad?')) return;
  if (SB.ready) {
    sbDelete('squads', id).then(function() {
      toast('üóëÔ∏è Squad deleted.', 'ok');
      sbSelect('squads').then(renderSquads);
      loadManage();
    });
  } else {
    var ls = localSquads().filter(function(s){ return s.id!==id; });
    localStorage.setItem('ymn_squads', JSON.stringify(ls));
    renderSquads(ls); loadManage(); toast('üóëÔ∏è Deleted.', 'ok');
  }
}

// ================================================================
//  UPVOTE
// ================================================================
function upvote(id, btn) {
  var key = 'uv_'+id;
  if (localStorage.getItem(key)) { toast('You already upvoted this!', 'warn'); return; }
  localStorage.setItem(key, '1');
  btn.classList.add('voted');
  var el = document.getElementById('vc_'+id);
  var cur = el ? parseInt(el.textContent||0) : 0;
  if (el) el.textContent = cur + 1;
  if (SB.ready) {
    sbUpdate('squads', id, { votes: cur + 1 });
  }
}

// ================================================================
//  FEATURED VIDEO
// ================================================================
function setVideo() {
  var url   = document.getElementById('vUrl').value.trim();
  var title = document.getElementById('vTitle').value.trim();
  var desc  = document.getElementById('vDesc').value.trim();
  var m = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|embed\/)([a-zA-Z0-9_-]{11})/);
  var vid = m ? m[1] : url;
  if (vid)   document.getElementById('featFrame').src  = 'https://www.youtube.com/embed/'+vid+'?rel=0';
  if (title) document.getElementById('featTitle').textContent = title;
  if (desc)  document.getElementById('featDesc').textContent  = desc;
  localStorage.setItem('ymn_feat', JSON.stringify({ vid:vid, title:title, desc:desc }));
  toast('‚úÖ Featured video updated!', 'ok');
}

(function(){
  var f = localStorage.getItem('ymn_feat');
  if (!f) return;
  try {
    var d = JSON.parse(f);
    if (d.vid)   document.getElementById('featFrame').src  = 'https://www.youtube.com/embed/'+d.vid+'?rel=0';
    if (d.title) document.getElementById('featTitle').textContent = d.title;
    if (d.desc)  document.getElementById('featDesc').textContent  = d.desc;
  } catch(e){}
})();

// ================================================================
//  SUPABASE STANDALONE MODAL
// ================================================================
function openSupaModal() {
  document.getElementById('sbOv').classList.add('on');
  document.body.style.overflow = 'hidden';
  // Pre-fill if already saved
  if (SB.ready) {
    document.getElementById('sbUrl2').value = SB.url;
    document.getElementById('sbKey2').value = SB.key;
    var sb = document.getElementById('sbModalStatus');
    sb.textContent = '‚úÖ Already connected! You can update credentials here if needed.';
    sb.className = 'sb-box ok';
  }
}

function closeSupaModal() {
  document.getElementById('sbOv').classList.remove('on');
  document.body.style.overflow = '';
}

document.getElementById('sbOv').addEventListener('click', function(e){ if(e.target.id==='sbOv') closeSupaModal(); });

function saveSupaFromModal() {
  var url = document.getElementById('sbUrl2').value.trim().replace(/\/$/, '');
  var key = document.getElementById('sbKey2').value.trim();
  var sb  = document.getElementById('sbModalStatus');

  if (!url || !url.startsWith('https://')) {
    sb.textContent = '‚ùå Invalid URL. Must start with https:// (e.g. https://xxxx.supabase.co)';
    sb.className = 'sb-box err'; return;
  }
  if (!key || key.length < 20) {
    sb.textContent = '‚ùå Invalid API key. Copy the full anon public key from Supabase ‚Üí Settings ‚Üí API.';
    sb.className = 'sb-box err'; return;
  }

  sb.textContent = '‚è≥ Testing connection...';
  sb.className = 'sb-box info';

  fetch(url + '/rest/v1/posts?select=id&limit=1', {
    headers: { 'apikey': key, 'Authorization': 'Bearer ' + key }
  }).then(function(r) {
    if (r.ok || r.status === 406 || r.status === 200) {
      localStorage.setItem('ymn_sb', JSON.stringify({ url: url, key: key }));
      SB.url = url; SB.key = key; SB.ready = true;
      document.getElementById('banner').classList.add('hide');
      updateSupaBtn(true);
      sb.textContent = '‚úÖ Supabase connected successfully! Reloading in 2 seconds...';
      sb.className = 'sb-box ok';
      setTimeout(function(){ location.reload(); }, 2000);
    } else if (r.status === 404 || r.status === 400) {
      // Credentials valid but tables missing
      localStorage.setItem('ymn_sb', JSON.stringify({ url: url, key: key }));
      SB.url = url; SB.key = key; SB.ready = true;
      updateSupaBtn(true);
      document.getElementById('banner').classList.add('hide');
      sb.textContent = '‚ö†Ô∏è Connected! But tables not found yet ‚Äî make sure you ran the SQL in Supabase SQL Editor. Then reload the page.';
      sb.className = 'sb-box err';
    } else {
      sb.textContent = '‚ùå Connection failed (HTTP ' + r.status + '). Check your URL and API key are correct.';
      sb.className = 'sb-box err';
    }
  }).catch(function() {
    sb.textContent = '‚ùå Could not reach Supabase. Check your Project URL is correct.';
    sb.className = 'sb-box err';
  });
}

function updateSupaBtn(connected) {
  var btn = document.getElementById('supaBtn');
  if (connected) {
    btn.textContent = 'üü¢ DB CONNECTED';
    btn.classList.add('connected');
  } else {
    btn.innerHTML = 'üü¢ CONNECT DB';
    btn.classList.remove('connected');
  }
}

// Set button state on load
if (SB.ready) updateSupaBtn(true);


function saveSupa() {
  var url = document.getElementById('sbUrl').value.trim().replace(/\/$/, '');
  var key = document.getElementById('sbKey').value.trim();
  var sb  = document.getElementById('sbStatusBox');

  if (!url || !url.startsWith('https://')) {
    sb.textContent = '‚ùå Invalid URL. Must start with https://  (e.g. https://xxxx.supabase.co)';
    sb.className = 'sb-box err'; return;
  }
  if (!key || key.length < 20) {
    sb.textContent = '‚ùå Invalid API key. Copy the full anon public key from Supabase ‚Üí Settings ‚Üí API.';
    sb.className = 'sb-box err'; return;
  }

  sb.textContent = '‚è≥ Testing connection...';
  sb.className = 'sb-box info';

  // Test by hitting the posts table
  fetch(url + '/rest/v1/posts?select=id&limit=1', {
    headers: { 'apikey': key, 'Authorization': 'Bearer ' + key }
  }).then(function(r) {
    if (r.ok || r.status === 406) {
      // 406 = table exists but no rows ‚Äî that's fine
      localStorage.setItem('ymn_sb', JSON.stringify({ url: url, key: key }));
      SB.url = url; SB.key = key; SB.ready = true;
      document.getElementById('banner').classList.add('hide');
      sb.textContent = '‚úÖ Supabase connected! Reloading in 2 seconds...';
      sb.className = 'sb-box ok';
      setTimeout(function(){ location.reload(); }, 2000);
    } else if (r.status === 404 || r.status === 400) {
      sb.textContent = '‚ö†Ô∏è Connected but tables not found. Did you run the SQL? Copy the SQL above ‚Üí go to Supabase ‚Üí SQL Editor ‚Üí New Query ‚Üí paste ‚Üí Run.';
      sb.className = 'sb-box err';
    } else {
      sb.textContent = '‚ùå Connection failed (HTTP ' + r.status + '). Check your URL and API key.';
      sb.className = 'sb-box err';
    }
  }).catch(function() {
    sb.textContent = '‚ùå Could not reach Supabase. Check your URL is correct and internet is connected.';
    sb.className = 'sb-box err';
  });
}

function copySQL() {
  var sql = document.getElementById('sqlBlock').textContent;
  navigator.clipboard.writeText(sql).then(function(){
    toast('üìã SQL copied! Paste in Supabase ‚Üí SQL Editor ‚Üí Run', 'ok');
  }).catch(function(){
    toast('Select the SQL text manually and copy it.', 'warn');
  });
}

// ================================================================
//  RENDER
// ================================================================
function catEmoji(cat) {
  if (!cat) return 'üìÑ';
  var m = {'News':'üì∞','Player':'‚ö°','Meta':'üìñ','F2P':'üíé','Manager':'üß†','Skill':'üéØ','Defend':'üõ°Ô∏è','Squad':'üë•','Form':'üìà','Coin':'ü™ô','AI':'ü§ñ','Compar':'‚öñÔ∏è','Forma':'üî¨','Mobile':'üì±','Tourna':'üèÜ'};
  for (var k in m) { if (cat.indexOf(k)!==-1) return m[k]; }
  return 'üìÑ';
}

function renderPosts(posts) {
  var g = document.getElementById('postsGrid');
  // Supabase uses description, local uses desc
  if (!Array.isArray(posts)) posts = [];
  document.getElementById('postCt').textContent = posts.length;
  if (!posts.length) {
    g.innerHTML = '<div class="empty" style="grid-column:1/-1"><div class="empty-ico">üì≠</div>No posts yet ‚Äî open Admin to publish!</div>';
    return;
  }
  g.innerHTML = posts.map(function(p) {
    var desc = p.description || p.desc || '';
    var imgH = p.image_url
      ? '<div class="card-top"><img src="'+p.image_url+'" alt="" loading="lazy"><span class="card-tag">'+(p.category||'Post')+'</span></div>'
      : '<div class="card-top">'+catEmoji(p.category)+'<span class="card-tag">'+(p.category||'Post')+'</span></div>';
    var href = p.link ? 'href="'+p.link+'" target="_blank"' : 'href="#"';
    return '<a '+href+' class="post-card">'+imgH+'<div class="card-body"><div class="card-title">'+p.title+'</div><div class="card-desc">'+desc+'</div><div class="card-meta"><span>'+(p.date||'')+'</span><span style="color:var(--neon)">‚Üí Read More</span></div></div></a>';
  }).join('');
}

function renderSquads(squads) {
  var g = document.getElementById('squadGrid');
  if (!Array.isArray(squads)) squads = [];
  document.getElementById('squadCt').textContent = squads.length;
  if (!squads.length) {
    g.innerHTML = '<div class="empty" style="grid-column:1/-1"><div class="empty-ico">‚öΩ</div>No squads yet ‚Äî be the first to submit!</div>';
    return;
  }
  g.innerHTML = squads.map(function(s) {
    var desc = s.description || s.desc || '';
    var imgH = s.image_url
      ? '<div class="sq-img"><img src="'+s.image_url+'" alt="" loading="lazy"></div>'
      : '<div class="sq-img">‚öΩ</div>';
    var voted = localStorage.getItem('uv_'+s.id) ? 'voted' : '';
    return '<div class="squad-card">'+imgH+'<div class="sq-body"><div class="sq-title">'+s.title+'</div><div class="sq-author">by '+(s.author||'Anonymous')+'</div><div class="sq-desc">'+desc+'</div><div class="uprow"><button class="up-btn '+voted+'" onclick="upvote(\''+s.id+'\',this)">‚ñ≤ Upvote</button><span class="up-ct" id="vc_'+s.id+'">'+(s.votes||0)+'</span></div></div></div>';
  }).join('');
}

function loadManage() {
  var render = function(elId, items, type) {
    var el = document.getElementById(elId);
    if (!items || !items.length) {
      el.innerHTML = '<div class="empty"><div class="empty-ico">'+(type==='post'?'üì≠':'‚öΩ')+'</div>None yet</div>';
      return;
    }
    var fn = type==='post' ? 'delPost' : 'delSquad';
    el.innerHTML = items.map(function(item) {
      var thumb = (item.image_url||item.imageUrl) ? '<img src="'+(item.image_url||item.imageUrl)+'">' : (type==='post' ? catEmoji(item.category) : '‚öΩ');
      var meta  = type==='post' ? ((item.category||'Post')+' ¬∑ '+(item.date||'')) : ('by '+(item.author||'Anon')+' ¬∑ '+(item.votes||0)+' votes');
      return '<div class="m-item"><div class="m-thumb">'+thumb+'</div><div class="m-info"><div class="m-ttl">'+item.title+'</div><div class="m-cat">'+meta+'</div></div><button class="btn-del" onclick="'+fn+'(\''+item.id+'\')">‚úï Delete</button></div>';
    }).join('');
  };

  if (SB.ready) {
    document.getElementById('mPosts').innerHTML  = '<div class="empty"><div class="empty-ico">‚è≥</div>Loading...</div>';
    document.getElementById('mSquads').innerHTML = '<div class="empty"><div class="empty-ico">‚è≥</div>Loading...</div>';
    sbSelect('posts').then(function(d) { render('mPosts', d, 'post'); }).catch(function(){ render('mPosts',[],'post'); });
    sbSelect('squads').then(function(d) { render('mSquads', d, 'squad'); }).catch(function(){ render('mSquads',[],'squad'); });
  } else {
    render('mPosts',  localPosts(),  'post');
    render('mSquads', localSquads(), 'squad');
  }
}

// ================================================================
//  UTILS
// ================================================================
function showSpin(t) { document.getElementById('spinLbl').textContent=t||'LOADING...'; document.getElementById('spinner').classList.add('on'); }
function hideSpin()  { document.getElementById('spinner').classList.remove('on'); }

var toastT;
function toast(msg, type) {
  var el = document.getElementById('toast');
  el.textContent = msg;
  el.className = 'toast on '+(type||'ok');
  clearTimeout(toastT);
  toastT = setTimeout(function(){ el.classList.remove('on'); }, 4500);
}

document.getElementById('pDate').valueAsDate = new Date();
</script>
</body>
</html>
